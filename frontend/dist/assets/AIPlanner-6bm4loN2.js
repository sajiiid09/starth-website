import{r as t,p as le,j as e,c as _e,s as S,I as $e,B as R,a as M,b as Me,d as X,n as ie,t as I,e as q,R as D,L as W,u as Ce,f as ne,m as Ze,g as ht,h as ut,P as pt,i as oe,S as Te,C as Pe,F as J,E as Le,D as Fe,k as Ie,l as gt,o as ft,q as bt,v as jt,w as vt,U as Nt,V as yt,x as wt,y as kt,z as Ae,A as Vt,G as Ht,H as _t,J as Mt,K as Zt}from"./index-KrjukJeb.js";import{s as Re}from"./ChatCircle.es-DeE-r4hZ.js";import{f as At}from"./MagnifyingGlass.es-Dx2DBm8Z.js";import{T as Ee,a as Se,b as ae,c as se}from"./tabs-BVUoMm7C.js";import{C as A,a as P,b as L,c as E}from"./card-tLMu1Ov7.js";import{m as Et}from"./PaperPlaneTilt.es-DXYVSOD_.js";import{n as St}from"./Clock.es-CCh8QZyI.js";import{m as Be}from"./CurrencyDollar.es-CPzZPXmX.js";import{m as $t}from"./MusicNotes.es-B-NRG4-M.js";import{n as Ct}from"./Palette.es-BP6DLU_5.js";import{c as Tt}from"./TrendUp.es-DxtztzU8.js";import{m as Pt}from"./WarningCircle.es-6KbXsyM7.js";import{V as Lt,a as Ft}from"./VendorCard-BX3yGp4b.js";import{n as It}from"./ArrowSquareOut.es-DnFjawrD.js";import{n as Rt}from"./Heart.es-B6ZX-EKN.js";import{s as ze}from"./Shield.es-C51nR2_i.js";import{n as De}from"./Star.es-BgtEy1eT.js";import{S as Ue}from"./SmartImage-CbGWYrNA.js";import{M as Bt}from"./MessageServiceButton-tp62X4BE.js";import{M as zt}from"./MarketplaceFilters-CtsnU2oU.js";import{d as qe,f as Ye}from"./templates-FC7PbFND.js";import{T as Dt}from"./TemplateCard-Dx6z4xa7.js";import{s as Ut}from"./Lightbulb.es-BzSv_syg.js";import{n as qt}from"./SealCheck.es-Cx01EjUC.js";const Yt=new Map([["bold",t.createElement(t.Fragment,null,t.createElement("path",{d:"M216,44H40A20,20,0,0,0,20,64V192a20,20,0,0,0,20,20H216a20,20,0,0,0,20-20V64A20,20,0,0,0,216,44ZM108,140V116h40v24Zm40,24v24H108V164ZM44,116H84v24H44Zm64-24V68h40V92Zm64,24h40v24H172Zm40-24H172V68h40ZM84,68V92H44V68ZM44,164H84v24H44Zm128,24V164h40v24Z"}))],["duotone",t.createElement(t.Fragment,null,t.createElement("path",{d:"M224,64V192a8,8,0,0,1-8,8H40a8,8,0,0,1-8-8V64a8,8,0,0,1,8-8H216A8,8,0,0,1,224,64Z",opacity:"0.2"}),t.createElement("path",{d:"M216,48H40A16,16,0,0,0,24,64V192a16,16,0,0,0,16,16H216a16,16,0,0,0,16-16V64A16,16,0,0,0,216,48ZM104,144V112h48v32Zm48,16v32H104V160ZM40,112H88v32H40Zm64-16V64h48V96Zm64,16h48v32H168Zm48-16H168V64h48ZM88,64V96H40V64ZM40,160H88v32H40Zm176,32H168V160h48v32Z"}))],["fill",t.createElement(t.Fragment,null,t.createElement("path",{d:"M84,52V92H28a4,4,0,0,1-4-4V64A16,16,0,0,1,40,48H80A4,4,0,0,1,84,52Zm16,152a4,4,0,0,0,4,4h48a4,4,0,0,0,4-4V164H100ZM24,168v24a16,16,0,0,0,16,16H80a4,4,0,0,0,4-4V164H28A4,4,0,0,0,24,168Zm0-56v32a4,4,0,0,0,4,4H84V108H28A4,4,0,0,0,24,112ZM152,48H104a4,4,0,0,0-4,4V92h56V52A4,4,0,0,0,152,48Zm76,60H172v40h56a4,4,0,0,0,4-4V112A4,4,0,0,0,228,108ZM100,148h56V108H100ZM216,48H176a4,4,0,0,0-4,4V92h56a4,4,0,0,0,4-4V64A16,16,0,0,0,216,48Zm12,116H172v40a4,4,0,0,0,4,4h40a16,16,0,0,0,16-16V168A4,4,0,0,0,228,164Z"}))],["light",t.createElement(t.Fragment,null,t.createElement("path",{d:"M216,50H40A14,14,0,0,0,26,64V192a14,14,0,0,0,14,14H216a14,14,0,0,0,14-14V64A14,14,0,0,0,216,50ZM102,146V110h52v36Zm52,12v36H102V158ZM38,110H90v36H38Zm64-12V62h52V98Zm64,12h52v36H166Zm52-46V98H166V62h50A2,2,0,0,1,218,64ZM40,62H90V98H38V64A2,2,0,0,1,40,62ZM38,192V158H90v36H40A2,2,0,0,1,38,192Zm178,2H166V158h52v34A2,2,0,0,1,216,194Z"}))],["regular",t.createElement(t.Fragment,null,t.createElement("path",{d:"M216,48H40A16,16,0,0,0,24,64V192a16,16,0,0,0,16,16H216a16,16,0,0,0,16-16V64A16,16,0,0,0,216,48ZM104,144V112h48v32Zm48,16v32H104V160ZM40,112H88v32H40Zm64-16V64h48V96Zm64,16h48v32H168Zm48-16H168V64h48ZM88,64V96H40V64ZM40,160H88v32H40Zm176,32H168V160h48v32Z"}))],["thin",t.createElement(t.Fragment,null,t.createElement("path",{d:"M216,52H40A12,12,0,0,0,28,64V192a12,12,0,0,0,12,12H216a12,12,0,0,0,12-12V64A12,12,0,0,0,216,52ZM100,148V108h56v40Zm56,8v40H100V156ZM36,108H92v40H36Zm64-8V60h56v40Zm64,8h56v40H164Zm56-44v36H164V60h52A4,4,0,0,1,220,64ZM40,60H92v40H36V64A4,4,0,0,1,40,60ZM36,192V156H92v40H40A4,4,0,0,1,36,192Zm180,4H164V156h56v36A4,4,0,0,1,216,196Z"}))]]),Ot=new Map([["bold",t.createElement(t.Fragment,null,t.createElement("path",{d:"M216,36H40A20,20,0,0,0,20,56V200a20,20,0,0,0,20,20H216a20,20,0,0,0,20-20V56A20,20,0,0,0,216,36Zm-4,24V92H44V60ZM44,116H92v80H44Zm72,80V116h96v80Z"}))],["duotone",t.createElement(t.Fragment,null,t.createElement("path",{d:"M104,104V208H40a8,8,0,0,1-8-8V104Z",opacity:"0.2"}),t.createElement("path",{d:"M216,40H40A16,16,0,0,0,24,56V200a16,16,0,0,0,16,16H216a16,16,0,0,0,16-16V56A16,16,0,0,0,216,40Zm0,16V96H40V56ZM40,112H96v88H40Zm176,88H112V112H216v88Z"}))],["fill",t.createElement(t.Fragment,null,t.createElement("path",{d:"M216,40H40A16,16,0,0,0,24,56V200a16,16,0,0,0,16,16H216a16,16,0,0,0,16-16V56A16,16,0,0,0,216,40ZM40,56H216V96H40ZM216,200H112V112H216v88Z"}))],["light",t.createElement(t.Fragment,null,t.createElement("path",{d:"M216,42H40A14,14,0,0,0,26,56V200a14,14,0,0,0,14,14H216a14,14,0,0,0,14-14V56A14,14,0,0,0,216,42ZM40,54H216a2,2,0,0,1,2,2V98H38V56A2,2,0,0,1,40,54ZM38,200V110H98v92H40A2,2,0,0,1,38,200Zm178,2H110V110H218v90A2,2,0,0,1,216,202Z"}))],["regular",t.createElement(t.Fragment,null,t.createElement("path",{d:"M216,40H40A16,16,0,0,0,24,56V200a16,16,0,0,0,16,16H216a16,16,0,0,0,16-16V56A16,16,0,0,0,216,40Zm0,16V96H40V56ZM40,112H96v88H40Zm176,88H112V112H216v88Z"}))],["thin",t.createElement(t.Fragment,null,t.createElement("path",{d:"M216,44H40A12,12,0,0,0,28,56V200a12,12,0,0,0,12,12H216a12,12,0,0,0,12-12V56A12,12,0,0,0,216,44ZM40,52H216a4,4,0,0,1,4,4v44H36V56A4,4,0,0,1,40,52ZM36,200V108h64v96H40A4,4,0,0,1,36,200Zm180,4H108V108H220v92A4,4,0,0,1,216,204Z"}))]]),Gt=new Map([["bold",t.createElement(t.Fragment,null,t.createElement("path",{d:"M128,20A108,108,0,1,0,236,128,108.12,108.12,0,0,0,128,20Zm0,192a84,84,0,1,1,84-84A84.09,84.09,0,0,1,128,212Zm52-84a12,12,0,0,1-12,12H140v28a12,12,0,0,1-24,0V140H88a12,12,0,0,1,0-24h28V88a12,12,0,0,1,24,0v28h28A12,12,0,0,1,180,128Z"}))],["duotone",t.createElement(t.Fragment,null,t.createElement("path",{d:"M224,128a96,96,0,1,1-96-96A96,96,0,0,1,224,128Z",opacity:"0.2"}),t.createElement("path",{d:"M128,24A104,104,0,1,0,232,128,104.11,104.11,0,0,0,128,24Zm0,192a88,88,0,1,1,88-88A88.1,88.1,0,0,1,128,216Zm48-88a8,8,0,0,1-8,8H136v32a8,8,0,0,1-16,0V136H88a8,8,0,0,1,0-16h32V88a8,8,0,0,1,16,0v32h32A8,8,0,0,1,176,128Z"}))],["fill",t.createElement(t.Fragment,null,t.createElement("path",{d:"M128,24A104,104,0,1,0,232,128,104.13,104.13,0,0,0,128,24Zm40,112H136v32a8,8,0,0,1-16,0V136H88a8,8,0,0,1,0-16h32V88a8,8,0,0,1,16,0v32h32a8,8,0,0,1,0,16Z"}))],["light",t.createElement(t.Fragment,null,t.createElement("path",{d:"M128,26A102,102,0,1,0,230,128,102.12,102.12,0,0,0,128,26Zm0,192a90,90,0,1,1,90-90A90.1,90.1,0,0,1,128,218Zm46-90a6,6,0,0,1-6,6H134v34a6,6,0,0,1-12,0V134H88a6,6,0,0,1,0-12h34V88a6,6,0,0,1,12,0v34h34A6,6,0,0,1,174,128Z"}))],["regular",t.createElement(t.Fragment,null,t.createElement("path",{d:"M128,24A104,104,0,1,0,232,128,104.11,104.11,0,0,0,128,24Zm0,192a88,88,0,1,1,88-88A88.1,88.1,0,0,1,128,216Zm48-88a8,8,0,0,1-8,8H136v32a8,8,0,0,1-16,0V136H88a8,8,0,0,1,0-16h32V88a8,8,0,0,1,16,0v32h32A8,8,0,0,1,176,128Z"}))],["thin",t.createElement(t.Fragment,null,t.createElement("path",{d:"M128,28A100,100,0,1,0,228,128,100.11,100.11,0,0,0,128,28Zm0,192a92,92,0,1,1,92-92A92.1,92.1,0,0,1,128,220Zm44-92a4,4,0,0,1-4,4H132v36a4,4,0,0,1-8,0V132H88a4,4,0,0,1,0-8h36V88a4,4,0,0,1,8,0v36h36A4,4,0,0,1,172,128Z"}))]]),Kt=new Map([["bold",t.createElement(t.Fragment,null,t.createElement("path",{d:"M244,128v64a12,12,0,0,1-12,12H168a12,12,0,0,1,0-24h35l-67-67-31.51,31.52a12,12,0,0,1-17,0l-72-72a12,12,0,0,1,17-17L96,119l31.51-31.52a12,12,0,0,1,17,0L220,163V128a12,12,0,0,1,24,0Z"}))],["duotone",t.createElement(t.Fragment,null,t.createElement("path",{d:"M232,128v64H168Z",opacity:"0.2"}),t.createElement("path",{d:"M235.06,120.61a8,8,0,0,0-8.72,1.73L200,148.69,141.66,90.34a8,8,0,0,0-11.32,0L96,124.69,29.66,58.34A8,8,0,0,0,18.34,69.66l72,72a8,8,0,0,0,11.32,0L136,107.31,188.69,160l-26.35,26.34A8,8,0,0,0,168,200h64a8,8,0,0,0,8-8V128A8,8,0,0,0,235.06,120.61ZM224,184H187.31L224,147.31Z"}))],["fill",t.createElement(t.Fragment,null,t.createElement("path",{d:"M240,128v64a8,8,0,0,1-8,8H168a8,8,0,0,1-5.66-13.66L188.69,160,136,107.31l-34.34,34.35a8,8,0,0,1-11.32,0l-72-72A8,8,0,0,1,29.66,58.34L96,124.69l34.34-34.35a8,8,0,0,1,11.32,0L200,148.69l26.34-26.35A8,8,0,0,1,240,128Z"}))],["light",t.createElement(t.Fragment,null,t.createElement("path",{d:"M238,128v64a6,6,0,0,1-6,6H168a6,6,0,0,1,0-12h49.52L136,104.49l-35.76,35.75a6,6,0,0,1-8.48,0l-72-72a6,6,0,0,1,8.48-8.48L96,127.51l35.76-35.75a6,6,0,0,1,8.48,0L226,177.52V128a6,6,0,0,1,12,0Z"}))],["regular",t.createElement(t.Fragment,null,t.createElement("path",{d:"M240,128v64a8,8,0,0,1-8,8H168a8,8,0,0,1,0-16h44.69L136,107.31l-34.34,34.35a8,8,0,0,1-11.32,0l-72-72A8,8,0,0,1,29.66,58.34L96,124.69l34.34-34.35a8,8,0,0,1,11.32,0L224,172.69V128a8,8,0,0,1,16,0Z"}))],["thin",t.createElement(t.Fragment,null,t.createElement("path",{d:"M236,128v64a4,4,0,0,1-4,4H168a4,4,0,0,1,0-8h54.34L136,101.66,98.83,138.83a4,4,0,0,1-5.66,0l-72-72a4,4,0,0,1,5.66-5.66L96,130.34l37.17-37.17a4,4,0,0,1,5.66,0L228,182.34V128a4,4,0,0,1,8,0Z"}))]]),Oe=t.forwardRef((r,c)=>t.createElement(le,{ref:c,...r,weights:Yt}));Oe.displayName="GridNineIcon";const Qt=Oe,Ge=t.forwardRef((r,c)=>t.createElement(le,{ref:c,...r,weights:Ot}));Ge.displayName="LayoutIcon";const Wt=Ge,Ke=t.forwardRef((r,c)=>t.createElement(le,{ref:c,...r,weights:Gt}));Ke.displayName="PlusCircleIcon";const Jt=Ke,Qe=t.forwardRef((r,c)=>t.createElement(le,{ref:c,...r,weights:Kt}));Qe.displayName="TrendDownIcon";const Xt=Qe,ea=({message:r})=>{const c=r.role==="user";return e.jsxs("div",{className:`flex gap-3 mb-4 message-bubble ${c?"justify-end":"justify-start"}`,children:[!c&&e.jsx("div",{className:"flex h-8 w-8 flex-shrink-0 items-center justify-center rounded-full bg-brand-teal",children:e.jsx(S,{weight:"fill",className:"h-4 w-4 text-white"})}),e.jsx("div",{className:`max-w-[80%] p-3 rounded-2xl ${c?"bg-brand-teal text-white":"bg-brand-light/80 text-brand-dark"}`,children:e.jsx("p",{className:"text-sm leading-relaxed",children:r.content})}),c&&e.jsx("div",{className:"flex h-8 w-8 flex-shrink-0 items-center justify-center rounded-full bg-brand-dark/10",children:e.jsx("span",{className:"text-xs font-semibold text-brand-dark",children:"You"})})]})};function ta({messages:r,inputValue:c,setInputValue:s,isLoading:x,onSendMessage:m,onKeyPress:l,showComposer:k=!0,showPrompts:V=!0,className:v,cardClassName:H,heightClassName:w="h-[520px]"}){const $=t.useRef(null),F=()=>{var N;(N=$.current)==null||N.scrollIntoView({behavior:"smooth"})};return t.useEffect(()=>{F()},[r,x]),e.jsxs("div",{className:_e("space-y-6",v),children:[e.jsx("style",{children:`
        @keyframes slide-in-fade-in {
          0% {
            opacity: 0;
            transform: translateY(10px);
          }
          100% {
            opacity: 1;
            transform: translateY(0);
          }
        }
        .message-bubble {
          animation: slide-in-fade-in 0.3s ease-out forwards;
        }

        @keyframes typing-dot {
          0%, 60%, 100% { transform: translateY(0); }
          30% { transform: translateY(-3px); }
        }
        .typing-dot { animation: typing-dot 1.2s infinite ease-in-out; }
        .typing-dot:nth-child(2) { animation-delay: 0.15s; }
        .typing-dot:nth-child(3) { animation-delay: 0.3s; }
      `}),e.jsxs(A,{className:_e("flex flex-col rounded-3xl border border-white/50 bg-white/85 shadow-card",w,H),children:[e.jsx(P,{className:"flex-shrink-0 border-b border-brand-dark/10 p-6",children:e.jsxs(L,{className:"flex items-center gap-3",children:[e.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-full bg-brand-teal",children:e.jsx(S,{weight:"fill",className:"h-5 w-5 text-white"})}),e.jsxs("div",{children:[e.jsx("span",{className:"text-lg font-semibold text-brand-dark",children:"Strathwell AI"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"h-2 w-2 rounded-full bg-brand-teal/80"}),e.jsx("span",{className:"text-xs text-brand-dark/60",children:"Ready to plan"})]})]})]})}),e.jsxs(E,{className:"flex-1 overflow-y-auto p-6",children:[r.map((N,p)=>e.jsx(ea,{message:N},p)),x&&e.jsx("div",{className:"flex justify-start message-bubble",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"flex h-8 w-8 items-center justify-center rounded-full bg-brand-teal",children:e.jsx(S,{weight:"fill",className:"h-4 w-4 text-white"})}),e.jsxs("div",{className:"flex items-center gap-1 rounded-2xl bg-brand-cream/60 p-3",children:[e.jsx("div",{className:"h-1.5 w-1.5 rounded-full bg-brand-dark/50 typing-dot"}),e.jsx("div",{className:"h-1.5 w-1.5 rounded-full bg-brand-dark/50 typing-dot"}),e.jsx("div",{className:"h-1.5 w-1.5 rounded-full bg-brand-dark/50 typing-dot"})]})]})}),e.jsx("div",{ref:$})]}),k&&e.jsx("div",{className:"flex-shrink-0 border-t border-brand-dark/10 p-6",children:e.jsxs("div",{className:"flex gap-2",children:[e.jsx($e,{placeholder:"Describe your event (e.g., 'Plan a 100-person wedding in NYC for June, budget $30k')",value:c,onChange:N=>s(N.target.value),onKeyPress:l,disabled:x,className:"h-12 flex-1 text-base"}),e.jsx(R,{onClick:m,disabled:!c.trim()||x,size:"icon",className:"h-12 w-12 bg-brand-teal text-white hover:bg-brand-dark",children:e.jsx(Et,{weight:"fill",className:"w-5 h-5"})})]})})]}),V&&e.jsxs(A,{className:"rounded-3xl border border-white/50 bg-white/85 shadow-card",children:[e.jsx(P,{children:e.jsx(L,{className:"text-lg text-brand-dark",children:"Try These Examples"})}),e.jsx(E,{className:"space-y-3",children:["Plan a 120-guest product launch in San Francisco for March, budget $25k","Organize a 50-person corporate retreat in Boston for Q2, budget $15k","Design a 200-guest wedding reception in NYC for September, budget $45k"].map((N,p)=>e.jsx("button",{onClick:()=>s(N),className:"w-full rounded-lg bg-brand-cream/40 p-3 text-left text-sm text-brand-dark/70 transition hover:bg-brand-cream/60",disabled:x,children:N},p))})]})]})}function aa({plan:r,onSavePlan:c,user:s}){var V,v,H,w,$,F,N,p,f,b,Y;console.log("ResultsPanels received plan:",r);const{venues:x=[],vendors:m=[],budget:l={}}=r||{};console.log("Venues to display:",x),console.log("Vendors to display:",m),console.log("Budget details:",l);const k=async()=>{if(!s){I.error("Please sign in to create an event"),window.location.href=q("AppEntry");return}try{const d=await c();d&&(window.location.href=q(`EventBuilder?planId=${d.id}`))}catch(d){console.error("Error creating event:",d),I.error("Failed to create event")}};return e.jsxs("div",{className:"space-y-6",children:[e.jsx(A,{className:"border-none shadow-lg",children:e.jsx(E,{className:"p-6",children:e.jsxs(R,{onClick:k,className:"w-full bg-gradient-to-r from-blue-600 to-indigo-600 hover:from-blue-700 hover:to-indigo-700 text-white py-6 text-lg font-semibold",children:[e.jsx(Jt,{className:"w-5 h-5 mr-2"}),"Create Event from This Plan"]})})}),r.creative_concepts&&e.jsxs(A,{className:"border-none shadow-lg bg-gradient-to-br from-purple-50 to-blue-50",children:[e.jsx(P,{children:e.jsxs(L,{className:"flex items-center gap-2 text-xl",children:[e.jsx(S,{className:"w-6 h-6 text-purple-600"}),"Creative Event Concepts"]})}),e.jsxs(E,{className:"space-y-6",children:[((V=r.creative_concepts.venue_layouts)==null?void 0:V.length)>0&&e.jsxs("div",{className:"space-y-3",children:[e.jsxs("h3",{className:"font-semibold flex items-center gap-2 text-lg",children:[e.jsx(Wt,{className:"w-5 h-5 text-blue-600"}),"Unique Venue Layouts"]}),e.jsx("div",{className:"grid gap-3",children:r.creative_concepts.venue_layouts.map((d,g)=>e.jsxs("div",{className:"p-4 bg-white rounded-lg border border-blue-200 shadow-sm",children:[e.jsx("h4",{className:"font-semibold text-gray-900 mb-1",children:d.name}),e.jsx("p",{className:"text-sm text-gray-600 mb-2",children:d.description}),e.jsx(M,{variant:"secondary",className:"text-xs",children:d.best_for})]},g))})]}),((v=r.creative_concepts.decor_themes)==null?void 0:v.length)>0&&e.jsxs("div",{className:"space-y-3",children:[e.jsxs("h3",{className:"font-semibold flex items-center gap-2 text-lg",children:[e.jsx(Ct,{className:"w-5 h-5 text-purple-600"}),"Decor Themes"]}),e.jsx("div",{className:"grid gap-3",children:r.creative_concepts.decor_themes.map((d,g)=>{var C,O;return e.jsxs("div",{className:"p-4 bg-white rounded-lg border border-purple-200 shadow-sm",children:[e.jsx("h4",{className:"font-semibold text-gray-900 mb-1",children:d.theme_name}),e.jsx("p",{className:"text-sm text-gray-600 mb-3",children:d.description}),((C=d.color_palette)==null?void 0:C.length)>0&&e.jsxs("div",{className:"mb-2",children:[e.jsx("p",{className:"text-xs font-medium text-gray-500 mb-1",children:"Color Palette:"}),e.jsx("div",{className:"flex gap-2 flex-wrap",children:d.color_palette.map((K,G)=>e.jsx("div",{className:"px-3 py-1 bg-gray-100 rounded-full text-xs",children:K},G))})]}),((O=d.key_elements)==null?void 0:O.length)>0&&e.jsxs("div",{children:[e.jsx("p",{className:"text-xs font-medium text-gray-500 mb-1",children:"Key Elements:"}),e.jsx("div",{className:"flex flex-wrap gap-1",children:d.key_elements.map((K,G)=>e.jsx(M,{variant:"outline",className:"text-xs",children:K},G))})]})]},g)})})]}),((H=r.creative_concepts.entertainment_ideas)==null?void 0:H.length)>0&&e.jsxs("div",{className:"space-y-3",children:[e.jsxs("h3",{className:"font-semibold flex items-center gap-2 text-lg",children:[e.jsx($t,{className:"w-5 h-5 text-green-600"}),"Entertainment Ideas"]}),e.jsx("div",{className:"grid gap-3",children:r.creative_concepts.entertainment_ideas.map((d,g)=>e.jsxs("div",{className:"p-4 bg-white rounded-lg border border-green-200 shadow-sm",children:[e.jsxs("div",{className:"flex justify-between items-start mb-1",children:[e.jsx("h4",{className:"font-semibold text-gray-900",children:d.idea}),e.jsx(M,{variant:"secondary",className:"text-xs",children:d.estimated_cost})]}),e.jsx("p",{className:"text-sm text-gray-600",children:d.description})]},g))})]}),((w=r.creative_concepts.unique_experiences)==null?void 0:w.length)>0&&e.jsxs("div",{className:"space-y-3",children:[e.jsxs("h3",{className:"font-semibold flex items-center gap-2 text-lg",children:[e.jsx(S,{className:"w-5 h-5 text-orange-600"}),"Unique Experiences"]}),e.jsx("div",{className:"grid gap-3",children:r.creative_concepts.unique_experiences.map((d,g)=>e.jsxs("div",{className:"p-4 bg-white rounded-lg border border-orange-200 shadow-sm",children:[e.jsx("h4",{className:"font-semibold text-gray-900 mb-1",children:d.experience}),e.jsx("p",{className:"text-sm text-gray-600",children:d.description})]},g))})]})]})]}),l&&(l.total||l.venue||l.vendors||l.user_budget||l.vendor_breakdown&&Object.keys(l.vendor_breakdown).length>0)&&e.jsxs(A,{className:"border-none shadow-lg",children:[e.jsx(P,{children:e.jsxs(L,{className:"flex items-center gap-2 text-lg",children:[e.jsx(Be,{className:"w-5 h-5 text-purple-600"}),"Dynamic Budget Analysis"]})}),e.jsx(E,{children:e.jsxs("div",{className:"space-y-4",children:[l.user_budget&&e.jsxs("div",{className:"flex justify-between items-center p-3 bg-blue-50 rounded-lg",children:[e.jsx("span",{className:"text-gray-700 font-medium",children:"Your Budget"}),e.jsxs("span",{className:"font-bold text-xl text-blue-700",children:["$",($=l.user_budget)==null?void 0:$.toLocaleString()]})]}),l.calculation_details&&e.jsxs("div",{className:"p-3 bg-gray-50 rounded-lg space-y-2 text-sm",children:[e.jsx("div",{className:"font-semibold text-gray-700",children:"Budget Calculation:"}),e.jsx("div",{className:"text-gray-600",children:l.calculation_details.base_costs}),e.jsxs("div",{className:"text-gray-600",children:["Multipliers: Location (",l.calculation_details.location_multiplier,"x), Event Type (",l.calculation_details.event_type_multiplier,"x), Quality (",l.calculation_details.tone_multiplier,"x)"]}),e.jsx("div",{className:"text-gray-700 font-medium",children:l.calculation_details.applied_formula})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-gray-600",children:"Venue Estimate"}),e.jsxs("span",{className:"font-semibold",children:["$",(F=l.venue)==null?void 0:F.toLocaleString()]})]}),l.vendor_breakdown&&Object.keys(l.vendor_breakdown).length>0?e.jsx("div",{className:"pl-4 space-y-2 border-l-2 border-gray-200",children:Object.entries(l.vendor_breakdown).map(([d,g])=>{var C;return e.jsxs("div",{className:"space-y-1",children:[e.jsxs("div",{className:"flex justify-between items-center text-sm",children:[e.jsx("span",{className:"text-gray-600 font-medium",children:g.vendor||d}),e.jsxs("span",{className:"font-semibold",children:["$",(C=g.cost)==null?void 0:C.toLocaleString()]})]}),g.reasoning&&e.jsx("div",{className:"text-xs text-gray-500 italic",children:g.reasoning})]},d)})}):l.vendors&&e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-gray-600",children:"Vendor Estimates"}),e.jsxs("span",{className:"font-semibold",children:["$",(N=l.vendors)==null?void 0:N.toLocaleString()]})]})]}),e.jsxs("div",{className:"border-t pt-3 flex justify-between items-center",children:[e.jsx("span",{className:"font-semibold text-lg",children:"Total Estimate"}),e.jsxs("span",{className:"font-bold text-2xl text-gray-900",children:["$",(p=l.total)==null?void 0:p.toLocaleString()]})]}),l.user_budget&&e.jsx("div",{className:"text-center pt-2",children:l.over_budget?e.jsxs(M,{className:"bg-red-50 text-red-700 border-red-200",children:[e.jsx(Pt,{className:"w-3 h-3 mr-1"}),"Over budget by $",(l.total-l.user_budget).toLocaleString()]}):l.remaining>0?e.jsxs(M,{className:"bg-green-50 text-green-700 border-green-200",children:[e.jsx(Me,{className:"w-3 h-3 mr-1"}),"Under budget by $",(f=l.remaining)==null?void 0:f.toLocaleString()]}):e.jsxs(M,{className:"bg-blue-50 text-blue-700 border-blue-200",children:[e.jsx(Me,{className:"w-3 h-3 mr-1"}),"Right on budget!"]})}),l.cost_optimization&&e.jsxs("div",{className:"space-y-3 pt-3 border-t",children:[((b=l.cost_optimization.save_money_by)==null?void 0:b.length)>0&&e.jsxs("div",{className:"p-3 bg-green-50 rounded-lg",children:[e.jsxs("div",{className:"font-semibold text-green-800 mb-2 flex items-center gap-2",children:[e.jsx(Xt,{className:"w-4 h-4"}),"Save Money:"]}),e.jsx("ul",{className:"space-y-1 text-sm text-green-700",children:l.cost_optimization.save_money_by.map((d,g)=>e.jsxs("li",{children:["â€¢ ",d]},g))})]}),((Y=l.cost_optimization.upgrade_options)==null?void 0:Y.length)>0&&e.jsxs("div",{className:"p-3 bg-blue-50 rounded-lg",children:[e.jsxs("div",{className:"font-semibold text-blue-800 mb-2 flex items-center gap-2",children:[e.jsx(Tt,{className:"w-4 h-4"}),"Upgrade Options:"]}),e.jsx("ul",{className:"space-y-1 text-sm text-blue-700",children:l.cost_optimization.upgrade_options.map((d,g)=>e.jsxs("li",{children:["â€¢ ",d]},g))})]})]})]})})]}),x&&x.length>0&&e.jsxs(A,{className:"border-none shadow-lg",children:[e.jsx(P,{children:e.jsxs(L,{className:"flex items-center gap-2 text-lg",children:[e.jsx(X,{className:"w-5 h-5 text-blue-600"}),"Recommended Venues (",x.length,")"]})}),e.jsx(E,{children:e.jsx("div",{className:"grid gap-4",children:x.map((d,g)=>e.jsx(Lt,{venue:d},g))})})]}),m.length>0&&e.jsxs(A,{className:"border-none shadow-lg",children:[e.jsx(P,{children:e.jsxs(L,{className:"flex items-center gap-2 text-lg",children:[e.jsx(ie,{className:"w-5 h-5 text-green-600"}),"Curated Vendor Bundle (",m.length,")"]})}),e.jsx(E,{children:e.jsx("div",{className:"grid gap-4",children:m.map((d,g)=>e.jsx(Ft,{vendor:d},g))})})]}),r.suggested_categories&&r.suggested_categories.length>0&&e.jsxs(A,{className:"border-none shadow-lg",children:[e.jsx(P,{children:e.jsxs(L,{className:"flex items-center gap-2 text-lg",children:[e.jsx(S,{className:"w-5 h-5 text-yellow-500"}),"You Might Also Need"]})}),e.jsxs(E,{children:[e.jsx("div",{className:"flex flex-wrap gap-2",children:r.suggested_categories.map((d,g)=>e.jsx(M,{variant:"secondary",className:"px-3 py-1",children:d},g))}),e.jsxs("p",{className:"text-sm text-gray-500 mt-3",children:["These additional services are commonly needed for ",r.event_type||"this type of"," events"]})]})]}),r.timeline&&e.jsxs(A,{className:"border-none shadow-lg",children:[e.jsx(P,{children:e.jsxs(L,{className:"flex items-center gap-2 text-lg",children:[e.jsx(St,{className:"w-5 h-5 text-orange-600"}),"Suggested Timeline"]})}),e.jsx(E,{children:e.jsx("div",{className:"space-y-2",children:r.timeline.map((d,g)=>e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"w-2 h-2 bg-gray-400 rounded-full mt-2"}),e.jsx("p",{className:"text-sm text-gray-700",children:d})]},g))})})]})]})}const sa=r=>`/${r}`,ra=({entityType:r,entityId:c,className:s})=>{const[x,m]=D.useState(!1),l=()=>m(!x);return e.jsx(R,{variant:"ghost",size:"icon",className:`rounded-full ${s}`,onClick:l,children:e.jsx(Rt,{className:`w-4 h-4 ${x?"fill-red-500 text-red-500":"text-gray-400"}`,weight:x?"fill":"regular"})})};function na({venues:r,onAskAI:c}){return r.length===0?e.jsxs("div",{className:"text-center py-12",children:[e.jsx(X,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No venues found"}),e.jsx("p",{className:"text-gray-600",children:"Try adjusting your filters to see more results"})]}):e.jsx("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-3",children:r.map(s=>{var x,m,l;return e.jsxs(A,{"data-marketplace-card":!0,className:"group overflow-hidden rounded-2xl border border-brand-dark/10 bg-white/90 shadow-soft transition duration-250 ease-smooth hover:-translate-y-1 hover:shadow-card",children:[e.jsxs("div",{className:"relative",children:[e.jsx(Ue,{item:s,type:"venue",className:"h-48 w-full object-cover transition-transform duration-300 group-hover:scale-105",alt:s.name}),s.featured&&e.jsx(M,{className:"absolute left-3 top-3 bg-brand-teal text-white",children:"Featured"}),e.jsxs("div",{className:"absolute top-3 right-3 flex gap-2",children:[e.jsx(ra,{entityType:"venue",entityId:s.id,className:"bg-white/90 backdrop-blur-sm hover:bg-white"}),s.insurance_verified&&e.jsx("div",{className:"w-8 h-8 bg-green-100 rounded-full flex items-center justify-center",children:e.jsx(ze,{className:"w-4 h-4 text-green-600"})})]})]}),e.jsxs(P,{className:"p-5",children:[e.jsxs("div",{className:"flex justify-between items-start mb-2",children:[e.jsx(L,{className:"text-lg font-semibold text-brand-dark line-clamp-1",children:s.name}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(De,{className:"w-4 h-4 text-yellow-400 fill-current"}),e.jsx("span",{className:"text-sm font-medium text-brand-dark",children:s.rating||s.google_rating||"4.5"})]})]}),e.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[e.jsxs("div",{className:"flex items-center gap-1 text-brand-dark/60",children:[e.jsx(X,{className:"w-3 h-3"}),e.jsxs("span",{className:"text-sm",children:[s.city,", ",s.state]})]}),((x=s.rate_card_json)==null?void 0:x.base_rate)&&s.rate_card_json.base_rate<1500&&e.jsx(M,{className:"bg-green-100 text-green-700 border-green-200 text-xs",children:"ðŸ’° Affordable"})]}),e.jsx("p",{className:"text-sm text-brand-dark/70 line-clamp-2 mb-3",children:s.description||`Beautiful venue in ${s.city} perfect for your next event.`})]}),e.jsxs(E,{className:"p-5 pt-0",children:[e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsxs("div",{className:"flex items-center gap-1 text-sm text-brand-dark/60",children:[e.jsx(ie,{className:"w-3 h-3"}),e.jsxs("span",{children:[s.capacity_max," capacity"]})]}),e.jsx("div",{className:"text-right",children:(m=s.rate_card_json)!=null&&m.base_rate?e.jsxs("div",{className:"flex items-center gap-1 text-lg font-semibold text-brand-dark",children:[e.jsx(Be,{className:"w-4 h-4"}),e.jsx("span",{children:s.rate_card_json.base_rate.toLocaleString()})]}):(l=s.rate_card_json)!=null&&l.hourly_rate?e.jsxs("div",{className:"text-sm font-medium text-brand-dark/70",children:["$",s.rate_card_json.hourly_rate,"/hour"]}):e.jsx("div",{className:"text-sm font-medium text-brand-dark/70",children:"Contact for pricing"})})]}),s.amenities&&e.jsxs("div",{className:"flex flex-wrap gap-1 mb-4",children:[s.amenities.slice(0,3).map((k,V)=>e.jsx(M,{variant:"secondary",className:"text-xs",children:k},V)),s.amenities.length>3&&e.jsxs(M,{variant:"secondary",className:"text-xs",children:["+",s.amenities.length-3," more"]})]}),e.jsxs("div",{className:"flex gap-2 mt-4",children:[e.jsx("a",{href:sa(`VenueDetails?id=${s.id}`),className:"flex-1",children:e.jsxs(R,{className:"w-full bg-brand-teal text-white hover:bg-brand-teal/90 group",children:["View Details",e.jsx(It,{className:"w-4 h-4 ml-2 group-hover:translate-x-1 strathwell-transition"})]})}),c&&e.jsx(R,{onClick:()=>c(s),variant:"outline",size:"icon",className:"px-3",title:"Ask AI about this venue",children:e.jsx(S,{className:"w-4 h-4"})})]})]})]},s.id)})})}function la({services:r,onAskAI:c}){return!r||r.length===0?e.jsxs("div",{className:"text-center py-12",children:[e.jsx(ie,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No services found"}),e.jsx("p",{className:"text-gray-600",children:"Try adjusting your filters to see more results"})]}):e.jsx("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-3",children:r.map(s=>{var x,m;return e.jsxs(A,{"data-marketplace-card":!0,className:"group flex flex-col overflow-hidden rounded-2xl border border-brand-dark/10 bg-white/90 shadow-soft transition duration-250 ease-smooth hover:-translate-y-1 hover:shadow-card",children:[e.jsxs(W,{to:q(`ServiceDetails?id=${s.id}`),className:"block",children:[e.jsxs("div",{className:"relative",children:[e.jsx(Ue,{item:s,type:"service",className:"h-48 w-full object-cover transition-transform duration-300 group-hover:scale-105",alt:s.name}),s.featured&&e.jsx(M,{className:"absolute top-3 left-3 bg-brand-teal text-white",children:"Featured"}),s.insurance_verified&&e.jsx("div",{className:"absolute top-3 right-3 w-8 h-8 bg-green-100 rounded-full flex items-center justify-center",title:"Insurance Verified",children:e.jsx(ze,{className:"w-4 h-4 text-green-600"})})]}),e.jsxs(P,{className:"p-5",children:[e.jsxs("div",{className:"flex justify-between items-start mb-2",children:[e.jsx(L,{className:"text-lg font-semibold text-brand-dark line-clamp-1",children:s.name}),e.jsxs("div",{className:"flex items-center gap-1 flex-shrink-0",children:[e.jsx(De,{className:"w-4 h-4 text-yellow-400 fill-current"}),e.jsx("span",{className:"text-sm font-medium text-brand-dark",children:s.rating||"4.8"})]})]}),e.jsx(M,{className:"mb-3 w-fit bg-brand-blue/60 text-brand-dark capitalize",children:s.category.replace(/_/g," ")}),e.jsx("p",{className:"text-sm text-brand-dark/70 line-clamp-2 mb-3 h-10",children:s.description||`Professional ${s.category.replace(/_/g," ")} services for your event needs.`})]})]}),e.jsxs(E,{className:"p-5 pt-0 mt-auto",children:[s.coverage_regions&&s.coverage_regions.length>0&&e.jsxs("div",{className:"mb-4 flex items-center gap-1 text-sm text-brand-dark/60",children:[e.jsx(X,{className:"w-3 h-3"}),e.jsxs("span",{children:["Serves ",s.coverage_regions.slice(0,2).join(", ")]})]}),e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("div",{className:"text-lg font-semibold text-brand-dark",children:["$",((m=(x=s.rate_card_json)==null?void 0:x.base_rate)==null?void 0:m.toLocaleString())||"N/A"]}),e.jsx("span",{className:"text-xs text-brand-dark/50",children:"Starting from"})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(W,{to:q(`ServiceDetails?id=${s.id}`),className:"flex-1",children:e.jsx(R,{variant:"outline",className:"w-full border-brand-dark/20 text-brand-dark",children:"View Details"})}),c&&e.jsx(R,{onClick:()=>c(s),variant:"outline",size:"icon",title:"Ask AI about this service",className:"flex-shrink-0",children:e.jsx(S,{className:"w-4 h-4"})}),!c&&e.jsx(Bt,{service:s,className:"flex-1 bg-blue-600 hover:bg-blue-700 text-white",children:"Request Quote"})]})]})]},s.id)})})}const ia=["Plan a 120-guest product launch in San Francisco for March, budget $25k","Organize a 50-person corporate retreat in Boston for Q2, budget $15k","Design a 200-guest wedding reception in NYC for September, budget $45k"],ca=[{title:"Product Launch Blueprint",meta:"120 guests Â· $25k budget",type:"Launch"},{title:"Corporate Retreat Blueprint",meta:"50 attendees Â· $15k budget",type:"Retreat"},{title:"Wedding Reception Blueprint",meta:"200 guests Â· $45k budget",type:"Wedding"}],re=(r,c,s)=>{c||oe.to(r,{y:s?-4:0,scale:s?1.02:1,duration:.2,ease:"power2.out"})},da=({value:r,onChange:c,onSubmit:s,onKeyPress:x,isLoading:m,onUploadImages:l,uploadedImages:k,uploadingImage:V,onRemoveImage:v,showTemplatePreviews:H=!0})=>{const w=Ce(),$=D.useRef(null),F=D.useRef(null),N=D.useRef(null),p=D.useRef(null);return ne($),ne(F,{targets:"[data-chip]",stagger:.12,distance:Ze.revealDistance-12}),ne(N,{targets:"[data-template-card]",stagger:.15,distance:Ze.revealDistance-10}),e.jsxs("div",{className:"space-y-8",children:[e.jsx("div",{ref:$,className:"rounded-[28px] bg-gradient-to-r from-brand-teal/20 via-brand-blue/40 to-brand-coral/25 p-[1px] shadow-card",children:e.jsxs("div",{className:"rounded-[27px] border border-white/70 bg-white/80 p-6 backdrop-blur-xl md:p-8",children:[e.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-3 text-xs text-brand-dark/60",children:[e.jsxs("span",{className:"inline-flex items-center gap-2 font-medium",children:[e.jsx("span",{className:"inline-flex h-7 w-7 items-center justify-center rounded-full bg-brand-blue/40 text-brand-teal",children:e.jsx(S,{className:"h-4 w-4"})}),"Strathwell Planner Studio"]}),e.jsx("span",{className:"font-medium",children:"Powered by Strathwell AI"})]}),e.jsxs("div",{className:"mt-5 rounded-2xl border border-brand-dark/10 bg-white px-4 py-3 shadow-soft",children:[e.jsx("textarea",{value:r,onChange:f=>c(f.target.value),placeholder:"Describe your event blueprint...",rows:3,onKeyDown:x,disabled:m,className:"w-full resize-none bg-transparent text-base text-brand-dark placeholder:text-brand-dark/40 focus:outline-none"}),e.jsxs("div",{className:"mt-4 flex flex-wrap items-center justify-between gap-4",children:[e.jsxs("div",{className:"flex flex-wrap items-center gap-3 text-sm text-brand-dark/60",children:[e.jsxs("button",{type:"button",className:"inline-flex items-center gap-2 rounded-full border border-brand-dark/10 bg-white px-3 py-1 text-xs font-medium text-brand-dark/70 transition duration-250 ease-smooth hover:border-brand-dark/20 hover:text-brand-dark",children:["Styles ",e.jsx(ht,{className:"h-3 w-3"})]}),e.jsx("button",{type:"button",onClick:()=>{var f;return(f=p.current)==null?void 0:f.click()},disabled:m||V,className:"inline-flex h-8 w-8 items-center justify-center rounded-full border border-brand-dark/10 bg-white text-brand-dark/60 transition duration-250 ease-smooth hover:text-brand-dark disabled:opacity-60",children:e.jsx(ut,{className:"h-4 w-4"})}),e.jsx("div",{className:"inline-flex items-center rounded-full border border-brand-dark/10 bg-white px-3 py-1 text-xs font-medium text-brand-dark/70",children:"1:1"})]}),e.jsx("div",{className:"flex items-center gap-3",children:e.jsx(pt,{variant:"primary",size:"sm",disabled:!r.trim()||m,onClick:s,children:m?"Generating...":"Generate"})})]}),e.jsx("input",{ref:p,type:"file",accept:"image/*",multiple:!0,onChange:l,className:"hidden",disabled:m||V})]}),k.length>0&&e.jsx("div",{className:"mt-4 flex flex-wrap gap-2",children:k.map((f,b)=>e.jsxs("div",{className:"relative",children:[e.jsx("img",{src:f,alt:`Uploaded ${b+1}`,className:"h-16 w-16 rounded-xl object-cover"}),e.jsx("button",{type:"button",onClick:()=>v(b),className:"absolute -right-2 -top-2 h-5 w-5 rounded-full bg-brand-dark text-xs text-white",children:"Ã—"})]},f))})]})}),e.jsx("div",{ref:F,className:"flex flex-wrap gap-3",children:ia.map(f=>e.jsx("button",{type:"button","data-chip":!0,onClick:()=>c(f),onMouseEnter:b=>re(b.currentTarget,w,!0),onMouseLeave:b=>re(b.currentTarget,w,!1),className:"rounded-full border border-brand-dark/10 bg-white/80 px-4 py-2 text-sm text-brand-dark/70 shadow-soft transition duration-250 ease-smooth hover:border-brand-dark/20 hover:text-brand-dark",children:f},f))}),H&&e.jsx("div",{ref:N,className:"grid gap-4 md:grid-cols-3",children:ca.map(f=>e.jsxs("div",{"data-template-card":!0,onMouseEnter:b=>re(b.currentTarget,w,!0),onMouseLeave:b=>re(b.currentTarget,w,!1),className:"rounded-2xl border border-brand-dark/10 bg-white/90 p-5 shadow-soft transition duration-250 ease-smooth",children:[e.jsx("div",{className:"text-xs font-semibold uppercase tracking-[0.2em] text-brand-dark/50",children:f.type}),e.jsx("div",{className:"mt-3 text-lg font-semibold text-brand-dark",children:f.title}),e.jsx("div",{className:"mt-2 text-sm text-brand-dark/60",children:f.meta}),e.jsxs("button",{type:"button",className:"mt-4 inline-flex items-center gap-2 text-sm font-semibold text-brand-teal transition duration-200 ease-smooth hover:text-brand-dark",children:["View template ",e.jsx("span",{"aria-hidden":!0,children:"â†’"})]})]},f.title))})]})},oa=()=>{const[r,c]=t.useState(qe.slice(0,6));return t.useEffect(()=>{let s=!1;return Ye().then(x=>{s||x.length>0&&c(x.slice(0,6))}).catch(()=>{}),()=>{s=!0}},[]),e.jsx(Te,{theme:"light",children:e.jsxs(Pe,{children:[e.jsxs(J,{className:"text-center",children:[e.jsx(Le,{theme:"light",children:"Recommended blueprints"}),e.jsx(Fe,{theme:"light",children:"Recommended Blueprints"}),e.jsx(Ie,{theme:"light",children:"Jumpstart with vetted templates designed for speed, clarity, and standout guest experiences."})]}),e.jsx(J,{className:"mt-10 grid gap-6 md:grid-cols-2 lg:grid-cols-3",staggerChildren:.08,childSelector:".template-card",children:r.map(s=>e.jsx("div",{className:"template-card",children:e.jsx(Dt,{template:s})},s.id))})]})})},ma=[{title:"Describe your event goal + constraints",description:"Share the vibe, budget range, and must-haves to shape the brief.",icon:S},{title:"Answer the follow-up questions",description:"The planner asks for details like timing, guest count, and format.",icon:Re},{title:"Review the blueprint",description:"Get recommendations for venues, vendors, and a working timeline.",icon:gt},{title:"Customize and approve",description:"Adjust selections, save the plan, and move into execution.",icon:qt}],xa=[{title:"Anchor the budget",description:"Share a budget range early to unlock the best-fit venues and vendors."},{title:"Lead with location",description:"Include a city or region so we can prioritize availability and logistics."},{title:"Define the format",description:"Guest count, timing, and format help us craft the right run-of-show."}],ha=()=>e.jsx(Te,{theme:"cream",children:e.jsxs(Pe,{children:[e.jsxs(J,{className:"text-center",children:[e.jsx(Le,{theme:"cream",children:"How to get the best plan"}),e.jsx(Fe,{theme:"cream",children:"How to get the best plan"}),e.jsx(Ie,{theme:"cream",children:"Follow these steps to turn an idea into a premium, ready-to-execute blueprint."})]}),e.jsx(J,{className:"mt-10",staggerChildren:.08,childSelector:".step-card",children:e.jsx("div",{className:"grid gap-6 md:grid-cols-2",children:ma.map((r,c)=>{const s=r.icon;return e.jsxs("div",{className:"step-card rounded-3xl border border-white/40 bg-white/80 p-6 shadow-card",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"flex h-12 w-12 items-center justify-center rounded-2xl bg-brand-teal/10",children:e.jsx(s,{className:"h-5 w-5 text-brand-teal"})}),e.jsxs("span",{className:"text-xs font-semibold uppercase tracking-[0.2em] text-brand-dark/50",children:["Step ",c+1]})]}),e.jsx("h3",{className:"mt-4 text-xl font-semibold text-brand-dark",children:r.title}),e.jsx("p",{className:"mt-2 text-sm text-brand-dark/70",children:r.description})]},r.title)})})}),e.jsx(J,{className:"mt-10",children:e.jsxs("div",{className:"grid gap-4 rounded-3xl border border-white/40 bg-white/80 p-6 shadow-card md:grid-cols-[auto_1fr]",children:[e.jsxs("div",{className:"flex items-center gap-3 text-sm font-semibold uppercase tracking-[0.3em] text-brand-teal",children:[e.jsx("span",{className:"flex h-10 w-10 items-center justify-center rounded-2xl bg-brand-teal/10",children:e.jsx(Ut,{className:"h-5 w-5 text-brand-teal"})}),"Pro tips"]}),e.jsx("div",{className:"grid gap-4 md:grid-cols-3",children:xa.map(r=>e.jsxs("div",{className:"rounded-2xl border border-brand-dark/10 bg-brand-cream/40 p-4",children:[e.jsx("p",{className:"text-sm font-semibold text-brand-dark",children:r.title}),e.jsx("p",{className:"mt-2 text-xs text-brand-dark/70",children:r.description})]},r.title))})]})})]})});async function ua(r,c,s){return Zt("POST","/api/planner/message",{body:{message:r,history:c,images:s},auth:!0})}function Ia(){var ke,Ve;const[r,c]=ft(),s=bt(),x=r.get("mode")==="marketplace"?"marketplace":"planner",[m,l]=t.useState(x);t.useEffect(()=>{window.scrollTo(0,0)},[]);const[k,V]=t.useState([{role:"assistant",content:"Hi! I'm your AI event planner. Tell me about your event and I'll find the perfect venues and vendors for you. You can also speak to me or share images!"}]),[v,H]=t.useState(""),[w,$]=t.useState(!1),[F,N]=t.useState("Finding your perfect event matches..."),[p,f]=t.useState(null),[b,Y]=t.useState(null),[d,g]=t.useState(!1),[C,O]=t.useState([]),[K,G]=t.useState(!1),[ce,We]=t.useState(qe),[ee,Je]=t.useState([]),[te,Xe]=t.useState([]),[me,xe]=t.useState([]),[he,ue]=t.useState([]),[B,et]=t.useState(""),[h,tt]=t.useState({state:"",city:"",capacity:"",priceRange:"",category:"",eventType:""}),pe=Ce(),ge=D.useRef(null),fe=D.useRef(null),be=D.useRef(null),je=t.useCallback(()=>{const a=ee.filter(i=>{var He;const j=!B||typeof i.name=="string"&&i.name.toLowerCase().includes(B.toLowerCase())||typeof i.city=="string"&&i.city.toLowerCase().includes(B.toLowerCase()),_=!h.state||i.state===h.state,n=!h.city||i.city===h.city,u=i.capacity_max,Z=!h.capacity||h.capacity==="small"&&u!=null&&u<50||h.capacity==="medium"&&u!=null&&u>=50&&u<=150||h.capacity==="large"&&u!=null&&u>150,y=(He=i.rate_card_json)==null?void 0:He.base_rate,U=!h.priceRange||h.priceRange==="budget"&&y!=null&&y<3e3||h.priceRange==="mid"&&y!=null&&y>=3e3&&y<=7e3||h.priceRange==="premium"&&y!=null&&y>7e3,T=i.tags,xt=!h.eventType||T!=null&&T.includes(h.eventType);return j&&_&&n&&Z&&U&&xt});xe(a);const o=te.filter(i=>{const j=!B||typeof i.name=="string"&&i.name.toLowerCase().includes(B.toLowerCase())||typeof i.category=="string"&&i.category.toLowerCase().includes(B.toLowerCase()),_=!h.category||i.category===h.category,n=i.coverage_regions,u=!h.state||i.state===h.state||n!=null&&n.some(T=>T.includes(h.state)),Z=!h.city||i.city===h.city||n!=null&&n.some(T=>T.includes(h.city)||T.toLowerCase().startsWith("all of")&&h.state&&T.includes(h.state)),y=i.event_types,U=!h.eventType||y!=null&&y.includes(h.eventType);return j&&_&&u&&Z&&U});ue(o)},[ee,te,B,h]);t.useEffect(()=>{at(),st(),Ye().then(a=>{a.length>0&&We(a)})},[]),t.useEffect(()=>{const a=jt();if(a!=null&&a.prompt){H(a.prompt),vt();return}const o=r.get("prompt");o&&!v.trim()&&H(o)},[v,r]),t.useEffect(()=>{m==="marketplace"&&je()},[m,je]),t.useEffect(()=>{c(a=>(a.set("mode",m),a),{replace:!0})},[m,c]),t.useLayoutEffect(()=>{if(pe)return;const a=m==="planner"?fe.current:be.current;if(!a)return;const o=oe.context(()=>{oe.fromTo(a,{opacity:0,y:24},{opacity:1,y:0,duration:.5,ease:"power3.out"})},a);return()=>o.revert()},[m,pe]);async function at(){try{const a=sessionStorage.getItem("currentUser");if(a){Y(JSON.parse(a));return}const o=await Nt.me();Y(o),o&&sessionStorage.setItem("currentUser",JSON.stringify(o))}catch(a){console.log("User not authenticated:",a),Y(null)}}async function st(){try{const[a,o]=await Promise.all([yt.filter({status:"active"}),wt.filter({status:"active"})]);Je(a),Xe(o),xe(a),ue(o)}catch(a){console.error("Error loading marketplace data:",a)}}async function rt(a){const o=Array.from(a.target.files??[]);if(o.length===0)return;const i=5*1024*1024;if(o.filter(u=>u.size>i).length>0){I.error("Some files are too large. Maximum size is 5MB per image.");return}G(!0);const _=[],n=[];for(const u of o){let Z=!1,y=0;for(;!Z&&y<3;)try{const{file_url:U}=await Vt({file:u});_.push(U),Z=!0}catch(U){y++,console.error(`Upload attempt ${y} for ${u.name} failed:`,U),y<3?await new Promise(T=>setTimeout(T,1e3*y)):n.push(u.name)}}_.length>0&&(O(u=>[...u,..._]),I.success(`${_.length} image(s) uploaded!`)),n.length>0&&I.error(`Failed to upload: ${n.join(", ")}`),G(!1)}function nt(a){O(o=>o.filter((i,j)=>j!==a))}async function lt(){var j,_;if(!v.trim()||w)return;const a=v.trim(),o=C.length>0?`
[${C.length} image(s) attached]`:"",i={role:"user",content:a+o};V(n=>[...n,i]),H(""),$(!0),g(!0),N("Analyzing your request...");try{const n=await ua(a,k,C);V(u=>[...u,{role:"assistant",content:n.reply}]),n.plan&&((j=n.plan.venues)!=null&&j.length||(_=n.plan.vendors)!=null&&_.length||n.plan.creative_concepts)?f(n.plan):f(null)}catch(n){console.error("Planner message failed:",n),V(u=>[...u,{role:"assistant",content:"I'm having trouble processing that right now. Could you try again?"}]),f(null)}O([]),$(!1)}async function it(){var a;if(!b)return I.error("Please sign in to save plans"),null;if(!p)return null;try{const o=`${p.event_type||"Event"} Plan - ${new Date().toLocaleDateString()}`,i=await Ht.create({organizer_id:b.id,title:o,event_date:p.event_date,inputs_json:{request:((a=k.find(j=>j.role==="user"))==null?void 0:a.content)||""},recommendations_json:{venues:p.venues||[],vendors:p.vendors||[],suggested_categories:p.suggested_categories||[],event_type:p.event_type,location:p.location,estimated_guests:p.estimated_guests},budget_json:p.budget,timeline_json:{timeline:p.timeline}});return I.success("Plan saved successfully!"),i}catch(o){return console.error("Error saving plan:",o),I.error("Failed to save plan"),null}}function de(){if(!(!v.trim()||w)){if(!_t()){Mt({prompt:v.trim(),returnPath:q("AIPlanner"),source:"ai-planner"}),I("Create an account to generate your blueprint."),s(q("AppEntry"));return}lt()}}function ve(a){a.key==="Enter"&&!a.shiftKey&&(a.preventDefault(),de())}function Ne(a,o){l("planner");const i=o==="venue"?`Tell me more about ${a.name} in ${a.city}. Is this a good venue for my event?`:`Tell me more about ${a.name}, a ${a.category} service provider. Would they be good for my event?`;H(i)}const ye=t.useMemo(()=>{var a;return((a=[...k].reverse().find(o=>o.role==="user"))==null?void 0:a.content)??""},[k]),we=t.useMemo(()=>v.trim()?v.trim():ye,[v,ye]),z=t.useMemo(()=>we.toLowerCase().replace(/[^a-z0-9\s]/g," ").split(/\s+/).filter(a=>a.length>2),[we]),Q=t.useCallback((a="")=>z.reduce((o,i)=>a.includes(i)?o+1:o,0),[z]),{relevantTemplates:ct,hasTemplateMatches:dt}=t.useMemo(()=>{const o=ce.map(i=>{const j=`${i.title} ${i.description}`.toLowerCase();return{template:i,score:Q(j)}}).sort((i,j)=>j.score-i.score).filter(i=>i.score>0).map(i=>i.template);return{relevantTemplates:(z.length>0&&o.length>0?o:ce).slice(0,6),hasTemplateMatches:o.length>0}},[ce,z,Q]),{relevantMarketplace:ot,hasMarketplaceMatches:mt}=t.useMemo(()=>{const a=ee.map(n=>{var Z;const u=[n.name,n.city,n.state,n.description,...n.tags||[]].filter(Boolean).join(" ").toLowerCase();return{id:`venue-${n.id}`,title:n.name,description:n.city?`${n.city}, ${n.state||""}`.trim():"Venue listing",image:n.image_url||((Z=n.photos)==null?void 0:Z[0])||"/images/marketplace/venue-hall.webp",href:`/marketplace/${n.id}`,meta:n.capacity_max?`${n.capacity_max} guests`:"Venue",kind:"venue",score:Q(u)}}),o=te.map(n=>{var Z;const u=[n.name,n.category,n.city,n.state,...n.event_types||[]].filter(Boolean).join(" ").toLowerCase();return{id:`service-${n.id}`,title:n.name,description:n.category||"Service provider",image:n.image_url||((Z=n.photos)==null?void 0:Z[0])||"/images/marketplace/vendor-av.webp",href:`/marketplace/${n.id}`,meta:n.category||"Service",kind:"service",score:Q(u)}}),i=[...a,...o].sort((n,u)=>u.score-n.score),j=i.filter(n=>n.score>0),_=i.slice(0,6);return{relevantMarketplace:(z.length>0&&j.length>0?j:_).slice(0,6),hasMarketplaceMatches:j.length>0}},[ee,te,z,Q]);return ne(ge),e.jsx("div",{className:"flex-1 overflow-auto bg-gradient-to-b from-brand-cream/60 via-white to-white",children:e.jsxs("div",{className:"mx-auto max-w-7xl px-4 py-10 md:px-8",children:[e.jsxs("div",{ref:ge,className:"mb-10 text-center",children:[e.jsxs("div",{className:"inline-flex items-center gap-2 rounded-full bg-brand-blue/60 px-4 py-2 text-sm font-medium text-brand-teal shadow-soft",children:[e.jsx(S,{className:"h-4 w-4"}),b?`Welcome back, ${b.full_name||"Organizer"}!`:"Strathwell AI Platform"]}),e.jsx("h1",{className:"mt-5 text-3xl font-semibold text-brand-dark md:text-4xl",children:m==="planner"?"AI Event Planner":"Browse the Marketplace"}),e.jsx("p",{className:"mt-3 text-base text-brand-dark/60 md:text-lg",children:m==="planner"?"Describe your vision and let Strathwell craft the blueprint.":"Browse our curated venues and service providers."}),e.jsx("div",{className:"mt-6 flex items-center justify-center",children:e.jsxs("div",{className:"inline-flex flex-wrap justify-center gap-2 rounded-full border border-brand-dark/10 bg-white/80 p-1 shadow-soft",children:[e.jsxs("button",{type:"button",onClick:()=>l("planner"),className:`inline-flex items-center gap-2 rounded-full px-4 py-2 text-sm font-semibold transition duration-250 ease-smooth sm:px-5 ${m==="planner"?"bg-brand-teal text-white shadow-soft":"text-brand-dark/60 hover:text-brand-dark"}`,children:[e.jsx(Re,{className:"h-4 w-4"}),"Planner"]}),e.jsxs("button",{type:"button",onClick:()=>l("marketplace"),className:`inline-flex items-center gap-2 rounded-full px-4 py-2 text-sm font-semibold transition duration-250 ease-smooth sm:px-5 ${m==="marketplace"?"bg-brand-teal text-white shadow-soft":"text-brand-dark/60 hover:text-brand-dark"}`,children:[e.jsx(Qt,{className:"h-4 w-4"}),"Marketplace"]})]})})]}),m==="planner"?e.jsxs(e.Fragment,{children:[e.jsxs("div",{ref:fe,className:"grid gap-10 lg:grid-cols-[1.1fr_0.9fr]",children:[e.jsxs("div",{className:"space-y-8",children:[e.jsx(da,{value:v,onChange:H,onSubmit:de,onKeyPress:ve,isLoading:w,onUploadImages:rt,uploadedImages:C,uploadingImage:K,onRemoveImage:nt,showTemplatePreviews:!1}),e.jsx(ta,{messages:k,inputValue:v,setInputValue:H,isLoading:w,onSendMessage:de,onKeyPress:ve,showComposer:!1,showPrompts:!1,heightClassName:"h-[420px] md:h-[520px]"})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"rounded-3xl border border-white/50 bg-white/85 p-6 shadow-card",children:[e.jsxs("div",{className:"flex items-start justify-between gap-4",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-xs font-semibold uppercase tracking-[0.3em] text-brand-teal",children:"Relevant matches"}),e.jsx("h2",{className:"mt-2 text-xl font-semibold text-brand-dark",children:"Curated templates and marketplace options."}),e.jsx("p",{className:"mt-2 text-sm text-brand-dark/60",children:"Based on your prompt, we surface the closest-fit blueprints and partners."})]}),w&&e.jsxs("div",{className:"flex items-center gap-2 text-xs text-brand-dark/60",children:[e.jsx(kt,{className:"h-4 w-4 animate-spin"}),F]})]}),e.jsxs(Ee,{defaultValue:"templates",className:"mt-6 space-y-4",children:[e.jsxs(Se,{className:"grid w-full grid-cols-2 rounded-full bg-brand-cream/60 p-1",children:[e.jsx(ae,{value:"templates",className:"rounded-full",children:"Templates"}),e.jsx(ae,{value:"marketplace",className:"rounded-full",children:"Marketplace"})]}),e.jsxs(se,{value:"templates",className:"space-y-4",children:[e.jsx("div",{className:"space-y-3",children:ct.map(a=>e.jsxs(W,{to:`/templates/${a.id}`,className:"group flex items-center gap-4 rounded-2xl border border-white/50 bg-white/90 p-4 shadow-soft transition hover:-translate-y-0.5",children:[e.jsx("div",{className:"h-16 w-16 overflow-hidden rounded-xl bg-brand-cream/60",children:e.jsx("img",{src:a.image,alt:a.title,className:"h-full w-full object-contain p-2",loading:"lazy"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm font-semibold text-brand-dark",children:a.title}),e.jsx("p",{className:"mt-1 text-xs text-brand-dark/60",children:a.description})]}),e.jsx(Ae,{className:"h-4 w-4 text-brand-dark/40 transition group-hover:text-brand-dark"})]},a.id))}),!dt&&z.length>0&&e.jsx("div",{className:"rounded-2xl border border-brand-dark/10 bg-brand-cream/40 p-4 text-xs text-brand-dark/60",children:"Try adding a location, date, or budget to refine template matches."})]}),e.jsxs(se,{value:"marketplace",className:"space-y-4",children:[e.jsx("div",{className:"space-y-3",children:ot.map(a=>e.jsxs(W,{to:a.href,className:"group flex items-center gap-4 rounded-2xl border border-white/50 bg-white/90 p-4 shadow-soft transition hover:-translate-y-0.5",children:[e.jsx("div",{className:"h-16 w-16 overflow-hidden rounded-xl bg-brand-cream/60",children:e.jsx("img",{src:a.image,alt:a.title,className:"h-full w-full object-cover",loading:"lazy"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm font-semibold text-brand-dark",children:a.title}),e.jsx("p",{className:"mt-1 text-xs text-brand-dark/60",children:a.description}),e.jsx("p",{className:"mt-1 text-[11px] uppercase tracking-[0.2em] text-brand-dark/40",children:a.meta})]}),e.jsx(Ae,{className:"h-4 w-4 text-brand-dark/40 transition group-hover:text-brand-dark"})]},a.id))}),!mt&&z.length>0&&e.jsx("div",{className:"rounded-2xl border border-brand-dark/10 bg-brand-cream/40 p-4 text-xs text-brand-dark/60",children:"Try adding a location, guest count, or vendor category to refine matches."}),e.jsx(W,{to:q("Marketplace"),children:e.jsx(R,{variant:"outline",className:"w-full rounded-full",children:"Browse all Marketplace"})})]})]})]}),p&&((ke=p.venues)!=null&&ke.length||(Ve=p.vendors)!=null&&Ve.length||p.creative_concepts)?e.jsxs("details",{className:"rounded-3xl border border-white/50 bg-white/85 p-4 shadow-card",children:[e.jsx("summary",{className:"cursor-pointer text-sm font-semibold text-brand-dark",children:"View detailed AI plan"}),e.jsx("div",{className:"mt-4",children:e.jsx(aa,{plan:p,onSavePlan:it,user:b})})]}):d&&e.jsx("div",{className:"rounded-3xl border border-white/50 bg-white/80 p-6 text-sm text-brand-dark/60 shadow-soft",children:"No specific plan results yet. Try adding more detail like location or budget."}),e.jsx("p",{className:"text-center text-xs text-brand-dark/50",children:"Disclaimer: Verified partner results are currently focused on MA, SF, and NY."})]})]}),e.jsx(oa,{}),e.jsx(ha,{})]}):e.jsxs("div",{ref:be,className:"space-y-8",children:[e.jsx(A,{className:"border-none bg-white/80 shadow-soft",children:e.jsxs(E,{className:"p-6",children:[e.jsxs("div",{className:"flex flex-col gap-4 md:flex-row md:items-center",children:[e.jsxs("div",{className:"relative flex-1",children:[e.jsx(At,{className:"absolute left-3 top-1/2 h-5 w-5 -translate-y-1/2 text-brand-dark/40"}),e.jsx($e,{placeholder:"Search venues, services, or locations...",value:B,onChange:a=>et(a.target.value),className:"h-12 bg-white pl-10"})]}),e.jsxs(R,{onClick:()=>l("planner"),className:"bg-brand-teal text-white hover:bg-brand-teal/90",children:[e.jsx(S,{className:"mr-2 h-4 w-4"}),"Ask AI Instead"]})]}),e.jsx("div",{className:"mt-6",children:e.jsx(zt,{filters:h,setFilters:tt,activeTab:"venues"})})]})}),e.jsxs(Ee,{defaultValue:"venues",className:"space-y-6",children:[e.jsxs(Se,{className:"grid w-full max-w-md grid-cols-2 rounded-full bg-white/80 p-1 shadow-soft",children:[e.jsxs(ae,{value:"venues",className:"flex items-center gap-2 rounded-full",children:[e.jsx(X,{className:"h-4 w-4"}),"Venues (",me.length,")"]}),e.jsxs(ae,{value:"providers",className:"flex items-center gap-2 rounded-full",children:[e.jsx(ie,{className:"h-4 w-4"}),"Services (",he.length,")"]})]}),e.jsx(se,{value:"venues",children:e.jsx(na,{venues:me,onAskAI:a=>Ne(a,"venue")})}),e.jsx(se,{value:"providers",children:e.jsx(la,{services:he,onAskAI:a=>Ne(a,"service")})})]})]})]})})}export{Ia as default};
