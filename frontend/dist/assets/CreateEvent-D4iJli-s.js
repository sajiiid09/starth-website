import{q as E,r as m,j as e,L as D,e as v,B as n,$ as T,s as A,I as i,T as F,d as I,N as b,n as M,U as B,a3 as $}from"./index-KrjukJeb.js";import{C as q,a as L,b as O,c as V}from"./card-tLMu1Ov7.js";import{C as p}from"./checkbox-uGjIcrta.js";import{P as j,a as f,b as y,C as N}from"./popover-BG0fWMNa.js";import{m as W}from"./CurrencyDollar.es-CPzZPXmX.js";import{f as _}from"./isSameMonth-Ccyd4klX.js";import"./en-US-B77o_Iq_.js";import"./differenceInCalendarMonths-DCHHw2al.js";const C=[{value:"corporate",label:"Corporate Event",icon:"ðŸ¢"},{value:"wedding",label:"Wedding",icon:"ðŸ’’"},{value:"conference",label:"Conference",icon:"ðŸŽ¯"},{value:"product_launch",label:"Product Launch",icon:"ðŸš€"},{value:"networking",label:"Networking",icon:"ðŸ¤"},{value:"fundraiser",label:"Fundraiser",icon:"ðŸ’"},{value:"social",label:"Social Event",icon:"ðŸŽ‰"},{value:"other",label:"Other",icon:"ðŸ“…"}],R={corporate:["Team Building Activities","Professional Catering","AV Equipment & Tech","Meeting Facilitation","Transportation Services"],wedding:["Wedding Photography","Floral Arrangements","Wedding Catering","Music & Entertainment","Wedding Planning"],conference:["Speaker Management","Registration & Check-in","AV Equipment & Streaming","Catering & Refreshments","Networking Facilitation"],product_launch:["Event Marketing","Product Demonstration Setup","Media & Press Coverage","Premium Catering","Brand Activation"],networking:["Icebreaker Activities","Professional Catering","Name Badge Services","Follow-up Coordination","Venue Setup"],fundraiser:["Auction Management","Donation Processing","Entertainment","Catering Services","Marketing & Promotion"],social:["Entertainment & Music","Party Planning","Catering & Bar Service","Photography","Decorations"],other:["Custom Event Planning","Catering Services","AV Equipment","Photography","General Support"]};function Y(){const P=E(),[a,g]=m.useState({title:"",event_type:"",description:"",date_start:null,date_end:null,city:"",guest_count:"",budget_target:"",style_tags:[],selected_categories:[],eventbrite_enabled:!1}),[c,u]=m.useState(!1),[o,x]=m.useState(!1),l=(t,s)=>{g(r=>({...r,[t]:s}))},S=t=>{g(s=>({...s,selected_categories:s.selected_categories.includes(t)?s.selected_categories.filter(r=>r!==t):[...s.selected_categories,t]}))},h=async(t=!1)=>{var s,r;t?x(!0):u(!0);try{const d=await B.me(),w={...a,organizer_id:d.id,date_start:(s=a.date_start)==null?void 0:s.toISOString(),date_end:(r=a.date_end)==null?void 0:r.toISOString(),guest_count:a.guest_count?parseInt(a.guest_count):null,budget_target:a.budget_target?parseFloat(a.budget_target):null,status:t?"published":"draft"};await $.create(w),P(v("Dashboard"))}catch(d){console.error("Error creating event:",d)}t?x(!1):u(!1)};C.find(t=>t.value===a.event_type);const k=a.event_type?R[a.event_type]||[]:[];return e.jsx("div",{className:"min-h-screen bg-gray-50 p-4",children:e.jsxs("div",{className:"max-w-2xl mx-auto",children:[e.jsxs("div",{className:"flex items-center gap-4 mb-8",children:[e.jsx(D,{to:v("Dashboard"),children:e.jsx(n,{variant:"ghost",size:"icon",children:e.jsx(T,{className:"w-5 h-5"})})}),e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Create Event"})]}),e.jsxs(q,{className:"border-none shadow-lg",children:[e.jsx(L,{children:e.jsxs(O,{className:"flex items-center gap-2",children:[e.jsx(A,{className:"w-5 h-5 text-blue-600"}),"Describe what you want to do:"]})}),e.jsxs(V,{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"Event Type"}),e.jsx("div",{className:"grid grid-cols-2 gap-3",children:C.map(t=>e.jsxs("button",{onClick:()=>l("event_type",t.value),className:`p-4 rounded-lg border-2 text-left transition-all ${a.event_type===t.value?"border-blue-600 bg-blue-50":"border-gray-200 hover:border-gray-300"}`,children:[e.jsx("div",{className:"text-2xl mb-2",children:t.icon}),e.jsx("div",{className:"font-medium text-gray-900",children:t.label})]},t.value))})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Event Title"}),e.jsx(i,{placeholder:"Enter your event title...",value:a.title,onChange:t=>l("title",t.target.value),className:"w-full"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Description"}),e.jsx(F,{placeholder:"A brief summary of your event...",value:a.description,onChange:t=>l("description",t.target.value),className:"w-full"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Select Location"}),e.jsxs("div",{className:"relative",children:[e.jsx(I,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),e.jsx(i,{placeholder:"City, State or Address",value:a.city,onChange:t=>l("city",t.target.value),className:"pl-10"})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Start Date"}),e.jsxs(j,{children:[e.jsx(f,{asChild:!0,children:e.jsxs(n,{variant:"outline",className:"w-full justify-start text-left",children:[e.jsx(b,{className:"mr-2 h-4 w-4"}),a.date_start?_(a.date_start,"PPP"):"Select date"]})}),e.jsx(y,{className:"w-auto p-0",children:e.jsx(N,{mode:"single",selected:a.date_start,onSelect:t=>l("date_start",t),initialFocus:!0})})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"End Date (Optional)"}),e.jsxs(j,{children:[e.jsx(f,{asChild:!0,children:e.jsxs(n,{variant:"outline",className:"w-full justify-start text-left",children:[e.jsx(b,{className:"mr-2 h-4 w-4"}),a.date_end?_(a.date_end,"PPP"):"Select date"]})}),e.jsx(y,{className:"w-auto p-0",children:e.jsx(N,{mode:"single",selected:a.date_end,onSelect:t=>l("date_end",t),initialFocus:!0})})]})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Guest Count"}),e.jsxs("div",{className:"relative",children:[e.jsx(M,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),e.jsx(i,{type:"number",placeholder:"Expected guests",value:a.guest_count,onChange:t=>l("guest_count",t.target.value),className:"pl-10"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Budget Target"}),e.jsxs("div",{className:"relative",children:[e.jsx(W,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),e.jsx(i,{type:"number",placeholder:"Total budget",value:a.budget_target,onChange:t=>l("budget_target",t.target.value),className:"pl-10"})]})]})]}),a.event_type&&e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"Describe your event need:"}),e.jsx("div",{className:"space-y-2",children:k.map((t,s)=>e.jsxs("div",{className:"flex items-center space-x-3 p-3 bg-gray-50 rounded-lg",children:[e.jsx(p,{id:`category-${s}`,checked:a.selected_categories.includes(t),onCheckedChange:()=>S(t)}),e.jsx("label",{htmlFor:`category-${s}`,className:"text-sm text-gray-700 cursor-pointer flex-1",children:t})]},s))})]}),e.jsxs("div",{className:"border-t pt-6",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(p,{id:"eventbrite",checked:a.eventbrite_enabled,onCheckedChange:t=>l("eventbrite_enabled",t)}),e.jsx("label",{htmlFor:"eventbrite",className:"text-sm font-medium text-gray-700",children:"Enable Eventbrite Ticketing"})]}),e.jsx("p",{className:"text-xs text-gray-500 mt-1 ml-6",children:"Automatically create an Eventbrite event with tickets for this event"})]}),e.jsxs("div",{className:"flex gap-3 pt-6",children:[e.jsx(n,{onClick:()=>h(!1),disabled:!a.title||!a.event_type||c||o,className:"flex-1 bg-gray-600 hover:bg-gray-700 text-white py-3 text-lg font-semibold",children:c?"Saving Draft...":"Save as Draft"}),e.jsx(n,{onClick:()=>h(!0),disabled:!a.title||!a.event_type||c||o,className:"flex-1 bg-blue-600 hover:bg-blue-700 text-white py-3 text-lg font-semibold",children:o?"Publishing...":"Publish Event"})]})]})]})]})})}export{Y as default};
