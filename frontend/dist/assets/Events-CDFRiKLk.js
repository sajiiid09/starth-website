import{r as n,U as f,a3 as x,j as e,y as N,L as a,e as r,B as l,a4 as b,a as w,a5 as y,a6 as v,a7 as E,a8 as m,N as o,d as C,n as D}from"./index-KrjukJeb.js";import{C as $,c as M}from"./card-tLMu1Ov7.js";import{m as S}from"./CurrencyDollar.es-CPzZPXmX.js";import{m as U}from"./DotsThreeVertical.es-xONz4iHU.js";import{m as _}from"./Pencil.es-DgXKeFuK.js";import{n as k}from"./Trash.es-DHM9Kd3t.js";function R(){const[i,h]=n.useState([]),[L,g]=n.useState(null),[u,c]=n.useState(!0);n.useEffect(()=>{d()},[]);const d=async()=>{c(!0);try{const s=await f.me();g(s);const t=await x.filter({organizer_id:s.id},"-created_date");h(t)}catch(s){console.error("Error loading events:",s)}c(!1)},j=async s=>{try{await x.delete(s),d()}catch(t){console.error("Error deleting event:",t)}},p=s=>{const t={draft:"bg-gray-100 text-gray-800",planning:"bg-yellow-100 text-yellow-800",published:"bg-blue-100 text-blue-800",booked:"bg-green-100 text-green-800",completed:"bg-purple-100 text-purple-800",cancelled:"bg-red-100 text-red-800"};return t[s]||t.draft};return u?e.jsx("div",{className:"flex items-center justify-center h-screen",children:e.jsx(N,{className:"w-8 h-8 animate-spin text-gray-500"})}):e.jsx("div",{className:"min-h-screen bg-gray-50 p-4 md:p-8",children:e.jsxs("div",{className:"max-w-6xl mx-auto",children:[e.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center mb-8",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl md:text-4xl font-bold text-gray-900 mb-2",children:"My Events"}),e.jsx("p",{className:"text-lg text-gray-600",children:"Manage and track all your events in one place"})]}),e.jsx(a,{to:r("CreateEvent"),children:e.jsxs(l,{className:"bg-blue-600 hover:bg-blue-700 text-white mt-4 md:mt-0",children:[e.jsx(b,{className:"w-4 h-4 mr-2"}),"Create Event"]})})]}),i.length>0?e.jsx("div",{className:"grid gap-6",children:i.map(s=>e.jsx($,{className:"border-none shadow-lg hover:shadow-xl transition-all",children:e.jsx(M,{className:"p-6",children:e.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-start justify-between mb-4",children:[e.jsxs("div",{className:"max-w-md",children:[e.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-2 truncate",children:s.title}),e.jsx(w,{className:p(s.status),children:s.status.charAt(0).toUpperCase()+s.status.slice(1)})]}),e.jsxs(y,{children:[e.jsx(v,{asChild:!0,children:e.jsx(l,{variant:"ghost",size:"icon",className:"flex-shrink-0",children:e.jsx(U,{className:"w-4 h-4"})})}),e.jsxs(E,{children:[e.jsx(m,{asChild:!0,children:e.jsxs(a,{to:r(`EditEvent?id=${s.id}`),children:[e.jsx(_,{className:"w-4 h-4 mr-2"}),"Edit Event"]})}),e.jsxs(m,{className:"text-red-600",onClick:()=>j(s.id),children:[e.jsx(k,{className:"w-4 h-4 mr-2"}),"Delete Event"]})]})]})]}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-sm text-gray-600",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(o,{className:"w-4 h-4"}),e.jsx("span",{children:new Date(s.date_start).toLocaleDateString()})]}),s.city&&e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(C,{className:"w-4 h-4"}),e.jsx("span",{children:s.city})]}),s.guest_count&&e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(D,{className:"w-4 h-4"}),e.jsxs("span",{children:[s.guest_count," guests"]})]}),s.budget_target&&e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(S,{className:"w-4 h-4"}),e.jsxs("span",{children:["$",s.budget_target.toLocaleString()]})]})]})]}),e.jsxs("div",{className:"flex gap-3 mt-4 md:mt-0 md:border-l md:pl-6 flex-shrink-0",children:[e.jsx(a,{to:r(`EventDetails?id=${s.id}`),children:e.jsx(l,{variant:"outline",children:"View Details"})}),(s.status==="draft"||s.status==="planning")&&e.jsx(a,{to:r(`EditEvent?id=${s.id}`),children:e.jsx(l,{className:"bg-blue-600 hover:bg-blue-700 text-white",children:"Continue Planning"})})]})]})})},s.id))}):e.jsxs("div",{className:"text-center py-12",children:[e.jsx(o,{className:"w-16 h-16 text-gray-400 mx-auto mb-6"}),e.jsx("h3",{className:"text-xl font-medium text-gray-900 mb-3",children:"No events yet"}),e.jsx("p",{className:"text-gray-600 mb-6 max-w-md mx-auto",children:"Get started by creating your first event. Use our AI planner to get matched with perfect venues and vendors."}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 justify-center",children:[e.jsx(a,{to:r("AIPlanner"),children:e.jsx(l,{className:"bg-blue-600 hover:bg-blue-700 text-white",children:"Start with AI Planner"})}),e.jsx(a,{to:r("CreateEvent"),children:e.jsx(l,{variant:"outline",children:"Create Manually"})})]})]})]})})}export{R as default};
