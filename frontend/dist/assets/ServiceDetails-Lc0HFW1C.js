import{r as a,p as F,U as b,ae as j,j as e,B as A,t as w,y as C,L as M,e as V,n as I,$ as k,a as L,d as U,ac as B,x as R,ad as z}from"./index-KrjukJeb.js";import{C as x,a as y,b as H,c as p}from"./card-tLMu1Ov7.js";import{n as G}from"./Heart.es-B6ZX-EKN.js";import{M as D}from"./MessageServiceButton-tp62X4BE.js";import{n as T}from"./Camera.es-CbxhcNz5.js";import{m as q}from"./CurrencyDollar.es-CPzZPXmX.js";import{m as _}from"./MusicNotes.es-B-NRG4-M.js";import{n as J}from"./Palette.es-BP6DLU_5.js";import{s as Q}from"./Shield.es-C51nR2_i.js";import{n as S}from"./Star.es-BgtEy1eT.js";import"./ChatCircle.es-DeE-r4hZ.js";const K=new Map([["bold",a.createElement(a.Fragment,null,a.createElement("path",{d:"M255.14,115.54l-14-35A19.89,19.89,0,0,0,222.58,68H196V64a12,12,0,0,0-12-12H32A20,20,0,0,0,12,72V184a20,20,0,0,0,20,20H46.06a36,36,0,0,0,67.88,0h44.12a36,36,0,0,0,67.88,0H236a20,20,0,0,0,20-20V120A21.7,21.7,0,0,0,255.14,115.54ZM196,92h23.88l6.4,16H196ZM80,204a12,12,0,1,1,12-12A12,12,0,0,1,80,204Zm92-41.92A36.32,36.32,0,0,0,158.06,180H113.94a36,36,0,0,0-67.88,0H36V140H172ZM172,116H36V76H172Zm20,88a12,12,0,1,1,12-12A12,12,0,0,1,192,204Zm40-24h-6.06A36.09,36.09,0,0,0,196,156.23V132h36Z"}))],["duotone",a.createElement(a.Fragment,null,a.createElement("path",{d:"M248,120v64a8,8,0,0,1-8,8H216a24,24,0,0,0-48,0H104a24,24,0,0,0-48,0H32a8,8,0,0,1-8-8V144H184V120Z",opacity:"0.2"}),a.createElement("path",{d:"M255.42,117l-14-35A15.93,15.93,0,0,0,226.58,72H192V64a8,8,0,0,0-8-8H32A16,16,0,0,0,16,72V184a16,16,0,0,0,16,16H49a32,32,0,0,0,62,0h50a32,32,0,0,0,62,0h17a16,16,0,0,0,16-16V120A7.94,7.94,0,0,0,255.42,117ZM192,88h34.58l9.6,24H192ZM32,72H176v64H32ZM80,208a16,16,0,1,1,16-16A16,16,0,0,1,80,208Zm81-24H111a32,32,0,0,0-62,0H32V152H176v12.31A32.11,32.11,0,0,0,161,184Zm31,24a16,16,0,1,1,16-16A16,16,0,0,1,192,208Zm48-24H223a32.06,32.06,0,0,0-31-24V128h48Z"}))],["fill",a.createElement(a.Fragment,null,a.createElement("path",{d:"M255.43,117l-14-35A15.93,15.93,0,0,0,226.58,72H192V64a8,8,0,0,0-8-8H32A16,16,0,0,0,16,72V184a16,16,0,0,0,16,16H49a32,32,0,0,0,62,0h50a32,32,0,0,0,62,0h17a16,16,0,0,0,16-16V120A8.13,8.13,0,0,0,255.43,117ZM80,208a16,16,0,1,1,16-16A16,16,0,0,1,80,208ZM32,136V72H176v64Zm160,72a16,16,0,1,1,16-16A16,16,0,0,1,192,208Zm0-96V88h34.58l9.6,24Z"}))],["light",a.createElement(a.Fragment,null,a.createElement("path",{d:"M253.57,117.78l-14-35a13.93,13.93,0,0,0-13-8.8H190V64a6,6,0,0,0-6-6H32A14,14,0,0,0,18,72V184a14,14,0,0,0,14,14H50.6a30,30,0,0,0,58.8,0h53.2a30,30,0,0,0,58.8,0H240a14,14,0,0,0,14-14V120A6,6,0,0,0,253.57,117.78ZM190,86h36.58a2,2,0,0,1,1.86,1.26L239.14,114H190ZM30,72a2,2,0,0,1,2-2H178v68H30ZM80,210a18,18,0,1,1,18-18A18,18,0,0,1,80,210Zm82.6-24H109.4a30,30,0,0,0-58.8,0H32a2,2,0,0,1-2-2V150H178v15.48A30.1,30.1,0,0,0,162.6,186ZM192,210a18,18,0,1,1,18-18A18,18,0,0,1,192,210Zm50-26a2,2,0,0,1-2,2H221.4A30.05,30.05,0,0,0,192,162c-.67,0-1.34,0-2,.07V126h52Z"}))],["regular",a.createElement(a.Fragment,null,a.createElement("path",{d:"M255.42,117l-14-35A15.93,15.93,0,0,0,226.58,72H192V64a8,8,0,0,0-8-8H32A16,16,0,0,0,16,72V184a16,16,0,0,0,16,16H49a32,32,0,0,0,62,0h50a32,32,0,0,0,62,0h17a16,16,0,0,0,16-16V120A7.94,7.94,0,0,0,255.42,117ZM192,88h34.58l9.6,24H192ZM32,72H176v64H32ZM80,208a16,16,0,1,1,16-16A16,16,0,0,1,80,208Zm81-24H111a32,32,0,0,0-62,0H32V152H176v12.31A32.11,32.11,0,0,0,161,184Zm31,24a16,16,0,1,1,16-16A16,16,0,0,1,192,208Zm48-24H223a32.06,32.06,0,0,0-31-24V128h48Z"}))],["thin",a.createElement(a.Fragment,null,a.createElement("path",{d:"M251.71,118.52l-14-35A12,12,0,0,0,226.58,76H188V64a4,4,0,0,0-4-4H32A12,12,0,0,0,20,72V184a12,12,0,0,0,12,12H52.29a28,28,0,0,0,55.42,0h56.58a28,28,0,0,0,55.42,0H240a12,12,0,0,0,12-12V120A4,4,0,0,0,251.71,118.52ZM188,84h38.58a4,4,0,0,1,3.72,2.51L242.09,116H188ZM28,72a4,4,0,0,1,4-4H180v72H28ZM80,212a20,20,0,1,1,20-20A20,20,0,0,1,80,212Zm84.29-24H107.71a28,28,0,0,0-55.42,0H32a4,4,0,0,1-4-4V148H180v18.71A28.05,28.05,0,0,0,164.29,188ZM192,212a20,20,0,1,1,20-20A20,20,0,0,1,192,212Zm52-28a4,4,0,0,1-4,4H219.71A28,28,0,0,0,188,164.29V124h56Z"}))]]),$=a.forwardRef((t,r)=>a.createElement(F,{ref:r,...t,weights:K}));$.displayName="TruckIcon";const O=$;function W({entityType:t,entityId:r,className:s=""}){const[d,l]=a.useState(!1),[g,m]=a.useState(!1),h=a.useCallback(async()=>{try{const n=await b.me(),o=await j.filter({user_id:n.id,entity_type:t,entity_id:r});l(o.length>0)}catch{}},[t,r]);a.useEffect(()=>{h()},[h]);const f=async()=>{m(!0);try{const n=await b.me();if(d){const o=await j.filter({user_id:n.id,entity_type:t,entity_id:r});o.length>0&&await j.delete(o[0].id),l(!1),w.success("Removed from favorites")}else await j.create({user_id:n.id,entity_type:t,entity_id:r}),l(!0),w.success("Added to favorites")}catch(n){console.error("Error toggling favorite:",n),w.error("Please sign in to save favorites")}m(!1)};return e.jsx(A,{variant:"ghost",size:"icon",onClick:f,disabled:g,className:`${s} hover:bg-red-50`,children:e.jsx(G,{className:`w-4 h-4 ${d?"fill-red-500 text-red-500":"text-gray-400"}`})})}const P=t=>{if(!t)return t;if(t.includes("drive.google.com/file/d/")){const r=t.match(/\/file\/d\/([a-zA-Z0-9-_]+)/);if(r)return`https://drive.google.com/uc?export=view&id=${r[1]}`}return t.includes("drive.google.com/uc?"),t},E={"Photography & Videography":T,Catering:I,"Entertainment & Media":_,"Audio & DJ Services":_,Transportation:O,Decor:J,default:S},X=({photos:t,providerName:r,category:s})=>{const l=(g=>{const m=["https://images.unsplash.com/photo-1556761175-4b46a572b786?w=800&h=600&fit=crop","https://images.unsplash.com/photo-1542038784456-1ea8e935640e?w=400&h=300&fit=crop","https://images.unsplash.com/photo-1550985543-49bee3167284?w=400&h=300&fit=crop","https://images.unsplash.com/photo-1493612276216-ee3925520721?w=400&h=300&fit=crop"];return t&&t.length>0?t.map(h=>P(h)):m})();return!l||l.length===0?e.jsx("div",{className:"h-96 bg-gray-200"}):e.jsx("div",{className:"relative h-96 w-full rounded-lg overflow-hidden bg-gray-100",children:e.jsx("img",{src:l[0],alt:r,className:"w-full h-full object-cover"})})};function de(){var o,Z;const[t,r]=a.useState(null),[s,d]=a.useState(null),[l,g]=a.useState(!0),[m,h]=a.useState([]);if(a.useEffect(()=>{const v=new URLSearchParams(window.location.search);r(v.get("id"))},[]),a.useEffect(()=>{(async()=>{var u;if(!t){g(!1);return}try{const i=await R.get(t);d(i);let N=((u=i.portfolio_photos)==null?void 0:u.map(c=>P(c)))||[];if(N.length===0)try{const c=await z({place_id:i.google_place_id,name:i.name,location:`${i.city}, ${i.state}`});c.data&&c.data.photos&&c.data.photos.length>0&&(N=c.data.photos)}catch(c){console.error("Failed to fetch Google Photos for service details:",c)}h(N)}catch(i){console.error("Error loading service:",i),d(null)}g(!1)})()},[t]),l)return e.jsx("div",{className:"flex items-center justify-center h-screen",children:e.jsx(C,{className:"w-8 h-8 animate-spin text-gray-500"})});if(!s)return e.jsx("div",{className:"min-h-screen bg-gray-50 p-4",children:e.jsxs("div",{className:"max-w-2xl mx-auto text-center py-12",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Service Provider Not Found"}),e.jsx("p",{className:"text-gray-600 mb-6",children:"The provider you're looking for doesn't exist or has been removed."}),e.jsx(M,{to:V("Marketplace"),children:e.jsx(A,{variant:"outline",children:"Back to Marketplace"})})]})});const f=s.rating||s.google_rating,n=E[s.category]||E.default;return e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e.jsx("div",{className:"bg-white border-b border-gray-200 p-4",children:e.jsxs("div",{className:"max-w-6xl mx-auto flex items-center gap-4",children:[e.jsx(M,{to:V("Marketplace"),children:e.jsx(A,{variant:"ghost",size:"icon",children:e.jsx(k,{className:"w-5 h-5"})})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:s.name}),e.jsxs("div",{className:"flex items-center gap-2 text-gray-600",children:[e.jsx(n,{className:"w-4 h-4"}),e.jsx("span",{children:s.category})]})]}),e.jsx("div",{className:"ml-auto flex gap-2",children:e.jsx(W,{entityType:"service_provider",entityId:s.id})})]})}),e.jsxs("div",{className:"max-w-6xl mx-auto p-4 grid lg:grid-cols-3 gap-8",children:[e.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[e.jsx(X,{photos:m,providerName:s.name,category:s.category}),e.jsxs(x,{className:"border-none shadow-lg",children:[e.jsx(y,{children:e.jsx(H,{children:"About This Provider"})}),e.jsx(p,{children:e.jsx("p",{className:"text-gray-700 leading-relaxed",children:s.description||`A leading provider of ${s.category} services in Massachusetts.`})})]}),s.event_types&&s.event_types.length>0&&e.jsxs(x,{className:"border-none shadow-lg",children:[e.jsx(y,{children:e.jsx(H,{children:"Specializes In"})}),e.jsx(p,{children:e.jsx("div",{className:"flex flex-wrap gap-2",children:s.event_types.map((v,u)=>e.jsx(L,{variant:"secondary",className:"capitalize",children:v},u))})})]}),s.coverage_regions&&s.coverage_regions.length>0&&e.jsxs(x,{className:"border-none shadow-lg",children:[e.jsx(y,{children:e.jsx(H,{children:"Service Area"})}),e.jsxs(p,{className:"flex items-center gap-2 text-gray-700",children:[e.jsx(U,{className:"w-5 h-5 text-indigo-600"}),e.jsx("span",{children:s.coverage_regions.join(", ")})]})]})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsx(x,{className:"border-none shadow-lg",children:e.jsx(p,{className:"p-6",children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(q,{className:"w-5 h-5 text-green-600"}),e.jsx("span",{className:"text-sm text-gray-600",children:"Starting at"})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("div",{className:"text-2xl font-bold text-gray-900",children:["$",((Z=(o=s.rate_card_json)==null?void 0:o.base_rate)==null?void 0:Z.toLocaleString())||"N/A"]}),e.jsx("div",{className:"text-sm text-gray-500",children:"per event"})]})]}),e.jsx(B,{}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(S,{className:"w-5 h-5 text-yellow-400 fill-current"}),e.jsx("span",{className:"text-sm text-gray-600",children:"Rating"})]}),e.jsx("div",{className:"font-semibold text-gray-900",children:f?`${f}/5.0`:"N/A"})]}),s.insurance_verified&&e.jsxs("div",{className:"flex items-center gap-2 p-3 bg-green-50 rounded-lg",children:[e.jsx(Q,{className:"w-5 h-5 text-green-600"}),e.jsx("span",{className:"text-sm font-medium text-green-700",children:"Insurance Verified"})]})]})})}),e.jsxs(x,{className:"border-none shadow-lg",children:[e.jsx(y,{children:e.jsx(H,{children:"Get In Touch"})}),e.jsx(p,{className:"space-y-4",children:e.jsx(D,{service:s,className:"w-full bg-blue-600 hover:bg-blue-700 text-white",children:"Request Quote"})})]})]})]})]})}export{de as default};
