import{r as a,p as k,j as e,B as g,y as C,U as S,a9 as j,aa as F,ab as I,t as b,e as w,L as A,$ as L,d as M,ac as P,n as R,N as U,V as B}from"./index-KrjukJeb.js";import{C as c,a as f,b as N,c as h}from"./card-tLMu1Ov7.js";import{S as H}from"./SmartImage-CbGWYrNA.js";import{n as T}from"./ArrowSquareOut.es-DnFjawrD.js";import{n as _}from"./Camera.es-CbxhcNz5.js";import{n as O}from"./Car.es-CSYVfZKN.js";import{m as W}from"./CurrencyDollar.es-CPzZPXmX.js";import{m as E}from"./ForkKnife.es-BL3vz2zQ.js";import{n as q}from"./Heart.es-B6ZX-EKN.js";import{s as z}from"./Shield.es-C51nR2_i.js";import{n as Z}from"./Star.es-BgtEy1eT.js";import{s as G}from"./ChatCircle.es-DeE-r4hZ.js";const D=new Map([["bold",a.createElement(a.Fragment,null,a.createElement("path",{d:"M144,204a16,16,0,1,1-16-16A16,16,0,0,1,144,204ZM239.61,83.91a176,176,0,0,0-223.22,0,12,12,0,1,0,15.23,18.55,152,152,0,0,1,192.76,0,12,12,0,1,0,15.23-18.55Zm-32.16,35.73a128,128,0,0,0-158.9,0,12,12,0,0,0,14.9,18.81,104,104,0,0,1,129.1,0,12,12,0,0,0,14.9-18.81ZM175.07,155.3a80.05,80.05,0,0,0-94.14,0,12,12,0,0,0,14.14,19.4,56,56,0,0,1,65.86,0,12,12,0,1,0,14.14-19.4Z"}))],["duotone",a.createElement(a.Fragment,null,a.createElement("path",{d:"M238.2,87.69l-104,125.43a8,8,0,0,1-12.3,0L17.8,87.69a7.79,7.79,0,0,1,1.31-11.21,180.75,180.75,0,0,1,217.78,0A7.79,7.79,0,0,1,238.2,87.69Z",opacity:"0.2"}),a.createElement("path",{d:"M247.89,80.91a15.93,15.93,0,0,0-6.17-10.81A186.67,186.67,0,0,0,128,32,186.67,186.67,0,0,0,14.28,70.1,15.93,15.93,0,0,0,8.11,80.91,15.65,15.65,0,0,0,11.65,92.8l104,125.43A15.93,15.93,0,0,0,128,224h0a15.93,15.93,0,0,0,12.31-5.77l104-125.43A15.65,15.65,0,0,0,247.89,80.91ZM128,208,24.09,82.74A170.76,170.76,0,0,1,128,48,170.76,170.76,0,0,1,231.91,82.74Z"}))],["fill",a.createElement(a.Fragment,null,a.createElement("path",{d:"M244.35,92.8l-104,125.43A15.93,15.93,0,0,1,128,224h0a15.93,15.93,0,0,1-12.31-5.77L11.65,92.8A15.65,15.65,0,0,1,8.11,80.91,15.93,15.93,0,0,1,14.28,70.1,186.67,186.67,0,0,1,128,32,186.67,186.67,0,0,1,241.72,70.1a15.93,15.93,0,0,1,6.17,10.81A15.65,15.65,0,0,1,244.35,92.8Z"}))],["light",a.createElement(a.Fragment,null,a.createElement("path",{d:"M138,204a10,10,0,1,1-10-10A10,10,0,0,1,138,204ZM235.81,88.55a170,170,0,0,0-215.62,0,6,6,0,1,0,7.62,9.27,158,158,0,0,1,200.38,0,6,6,0,1,0,7.62-9.27Zm-32.08,35.79a122,122,0,0,0-151.46,0,6,6,0,0,0,7.46,9.41,110,110,0,0,1,136.54,0A6,6,0,0,0,200,135a6,6,0,0,0,3.73-10.7Zm-32.2,35.81a74,74,0,0,0-87.06,0,6,6,0,0,0,7.06,9.7,62,62,0,0,1,72.94,0,6,6,0,0,0,8.38-1.32A6,6,0,0,0,171.53,160.15Z"}))],["regular",a.createElement(a.Fragment,null,a.createElement("path",{d:"M140,204a12,12,0,1,1-12-12A12,12,0,0,1,140,204ZM237.08,87A172,172,0,0,0,18.92,87,8,8,0,0,0,29.08,99.37a156,156,0,0,1,197.84,0A8,8,0,0,0,237.08,87ZM205,122.77a124,124,0,0,0-153.94,0A8,8,0,0,0,61,135.31a108,108,0,0,1,134.06,0,8,8,0,0,0,11.24-1.3A8,8,0,0,0,205,122.77Zm-32.26,35.76a76.05,76.05,0,0,0-89.42,0,8,8,0,0,0,9.42,12.94,60,60,0,0,1,70.58,0,8,8,0,1,0,9.42-12.94Z"}))],["thin",a.createElement(a.Fragment,null,a.createElement("path",{d:"M136,204a8,8,0,1,1-8-8A8,8,0,0,1,136,204ZM234.54,90.1a168,168,0,0,0-213.08,0,4,4,0,1,0,5.08,6.18,160,160,0,0,1,202.92,0,4,4,0,0,0,5.08-6.18Zm-32.06,35.81a120,120,0,0,0-149,0,4,4,0,0,0,5,6.27,112,112,0,0,1,139,0,4,4,0,0,0,5-6.27Zm-32.13,35.86a72,72,0,0,0-84.7,0,4,4,0,1,0,4.7,6.46,64.07,64.07,0,0,1,75.3,0,4,4,0,0,0,5.58-.87A4,4,0,0,0,170.35,161.77Z"}))]]),V=a.forwardRef((n,o)=>a.createElement(k,{ref:o,...n,weights:D}));V.displayName="WifiHighIcon";const $=V;function K({venue:n,className:o="",children:s}){const[d,u]=a.useState(!1),p=async()=>{var m,x;u(!0);try{const t=await S.me(),i=await j.filter({user_id:t.id});let r=null;for(const v of i)if((await j.filter({conversation_id:v.conversation_id})).some(y=>y.user_id===n.owner_id&&y.user_id!==t.id)){r=v.conversation_id;break}let l=r;l?b.success("Opening existing conversation..."):(l=(await F.create({})).id,await j.create({conversation_id:l,user_id:t.id}),await j.create({conversation_id:l,user_id:n.owner_id}),await I.create({conversation_id:l,sender_id:t.id,text:`Hi! I'm interested in booking ${n.name} for an upcoming event. Could you please provide more details about availability and pricing?`}),b.success("Message sent! Redirecting to conversation...")),window.location.href=w("Messages")}catch(t){console.error("Error creating message:",t),((m=t.message)!=null&&m.includes("401")||((x=t.response)==null?void 0:x.status)===401)&&(localStorage.setItem("postLoginRedirect",window.location.pathname+window.location.search),window.location.href="/api/auth/login")}u(!1)};return e.jsx(g,{className:`${o} bg-gray-200 hover:bg-gray-300 text-gray-800`,onClick:p,disabled:d,children:d?e.jsx(C,{className:"w-4 h-4 animate-spin"}):s||e.jsx(G,{className:"w-4 h-4"})})}const Q={WiFi:$,Parking:O,"AV Equipment":_,"Catering Kitchen":E,"High-speed WiFi":$,"Audio Visual":_,Catering:E};function me(){var x,t;const[n,o]=a.useState(null),[s,d]=a.useState(null),[u,p]=a.useState(!0);if(a.useEffect(()=>{const i=new URLSearchParams(window.location.search);o(i.get("id"))},[]),a.useEffect(()=>{(async()=>{if(!n){p(!1);return}try{const r=await B.get(n);d(r)}catch(r){console.error("Error loading venue:",r),d(null)}p(!1)})()},[n]),u)return e.jsx("div",{className:"flex items-center justify-center h-screen",children:e.jsx(C,{className:"w-8 h-8 animate-spin text-gray-500"})});if(!s)return e.jsx("div",{className:"min-h-screen bg-gray-50 p-4",children:e.jsxs("div",{className:"max-w-2xl mx-auto text-center py-12",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Venue Not Found"}),e.jsx("p",{className:"text-gray-600 mb-6",children:"The venue you're looking for doesn't exist or has been removed."}),e.jsx(A,{to:w("Marketplace"),children:e.jsx(g,{variant:"outline",children:"Back to Marketplace"})})]})});const m=s.rating||s.google_rating;return e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e.jsx("div",{className:"bg-white border-b border-gray-200 p-4",children:e.jsxs("div",{className:"max-w-6xl mx-auto flex items-center gap-4",children:[e.jsx(A,{to:w("Marketplace"),children:e.jsx(g,{variant:"ghost",size:"icon",children:e.jsx(L,{className:"w-5 h-5"})})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:s.name}),e.jsxs("div",{className:"flex items-center gap-2 text-gray-600",children:[e.jsx(M,{className:"w-4 h-4"}),e.jsxs("span",{children:[s.city,", ",s.state]})]})]}),e.jsx("div",{className:"ml-auto flex gap-2",children:e.jsx(g,{variant:"outline",size:"icon",children:e.jsx(q,{className:"w-4 h-4"})})})]})}),e.jsxs("div",{className:"max-w-6xl mx-auto p-4 grid lg:grid-cols-3 gap-8",children:[e.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[e.jsx(c,{className:"border-none shadow-lg overflow-hidden",children:e.jsx(H,{item:s,type:"venue",className:"w-full h-96 object-cover",alt:s.name})}),e.jsxs(c,{className:"border-none shadow-lg",children:[e.jsx(f,{children:e.jsx(N,{children:"About This Venue"})}),e.jsx(h,{children:e.jsx("p",{className:"text-gray-700 leading-relaxed",children:s.description||`${s.name} is a premier event venue located in ${s.city}, ${s.state}. Perfect for corporate events, weddings, conferences, and special celebrations.`})})]}),s.amenities&&s.amenities.length>0&&e.jsxs(c,{className:"border-none shadow-lg",children:[e.jsx(f,{children:e.jsx(N,{children:"Amenities & Features"})}),e.jsx(h,{children:e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4",children:s.amenities.map((i,r)=>{const l=Q[i]||Z;return e.jsxs("div",{className:"flex items-center gap-3 p-3 bg-gray-50 rounded-lg",children:[e.jsx(l,{className:"w-5 h-5 text-indigo-600"}),e.jsx("span",{className:"text-sm font-medium text-gray-700",children:i})]},r)})})})]}),e.jsxs(c,{className:"border-none shadow-lg",children:[e.jsx(f,{children:e.jsx(N,{children:"Location & Address"})}),e.jsx(h,{children:e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(M,{className:"w-5 h-5 text-indigo-600 mt-0.5"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-900",children:s.address}),e.jsxs("p",{className:"text-gray-600",children:[s.city,", ",s.state," ",s.country]})]})]}),s.maps_url&&e.jsx("a",{href:s.maps_url,target:"_blank",rel:"noopener noreferrer",children:e.jsxs(g,{variant:"outline",className:"w-full",children:[e.jsx(T,{className:"w-4 h-4 mr-2"}),"View on Google Maps"]})})]})})]})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsx(c,{className:"border-none shadow-lg",children:e.jsx(h,{className:"p-6",children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(W,{className:"w-5 h-5 text-green-600"}),e.jsx("span",{className:"text-sm text-gray-600",children:"Starting at"})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("div",{className:"text-2xl font-bold text-gray-900",children:["$",((t=(x=s.rate_card_json)==null?void 0:x.base_rate)==null?void 0:t.toLocaleString())||"N/A"]}),e.jsx("div",{className:"text-sm text-gray-500",children:"per day"})]})]}),e.jsx(P,{}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(R,{className:"w-5 h-5 text-blue-600"}),e.jsx("span",{className:"text-sm text-gray-600",children:"Capacity"})]}),e.jsxs("div",{className:"font-semibold text-gray-900",children:["Up to ",s.capacity_max||"N/A"," guests"]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Z,{className:"w-5 h-5 text-yellow-400 fill-current"}),e.jsx("span",{className:"text-sm text-gray-600",children:"Rating"})]}),e.jsx("div",{className:"font-semibold text-gray-900",children:m?`${m}/5.0`:"N/A"})]}),s.insurance_verified&&e.jsxs("div",{className:"flex items-center gap-2 p-3 bg-green-50 rounded-lg",children:[e.jsx(z,{className:"w-5 h-5 text-green-600"}),e.jsx("span",{className:"text-sm font-medium text-green-700",children:"Insurance Verified"})]})]})})}),e.jsxs(c,{className:"border-none shadow-lg",children:[e.jsx(f,{children:e.jsx(N,{children:"Get In Touch"})}),e.jsx(h,{className:"space-y-4",children:e.jsxs(K,{venue:s,className:"w-full bg-indigo-600 hover:bg-indigo-700 text-white",children:[e.jsx(U,{className:"w-4 h-4 mr-2"}),"Request Quote"]})})]})]})]})]})}export{me as default};
