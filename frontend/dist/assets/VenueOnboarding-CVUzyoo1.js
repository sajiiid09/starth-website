import{q,bP as V,R as m,bQ as D,j as e,O as t,I as l,Q as h,W as v,X as g,Y as j,Z as x,c as w,bR as F,t as I}from"./index-KrjukJeb.js";import{C as u}from"./checkbox-uGjIcrta.js";import{V as W}from"./VendorStatusBanner-Ce0fnQuv.js";import{u as B,O as R}from"./useVendorOnboarding-B2-W8H0d.js";const E=["Mon","Tue","Wed","Thu","Fri","Sat","Sun"],L=["Morning","Afternoon","Evening"],z=["Hall","Rooftop","Restaurant","Convention","Outdoor","Studio"],A=["pillars","noise limit","parking available","indoor/outdoor"],_=["cleaning","security","AV package"],$=["/images/marketplace/venue-hall.webp","https://images.unsplash.com/photo-1519167758481-83f550bb49b3?w=1200&h=800&fit=crop","/images/marketplace/venue-garden.webp"],f=[{title:"Venue basics",subtitle:"Capture the essentials organizers need to understand your space."},{title:"Space & capacity",subtitle:"Define the footprint and realistic capacity ranges."},{title:"Availability",subtitle:"Let organizers know when your space is open."},{title:"Pricing",subtitle:"Share base pricing and add-ons to guide budget expectations."},{title:"Photos & preview",subtitle:"Choose images and review the listing summary."},{title:"Review & submit",subtitle:"Confirm details before submitting for approval."}],Y=()=>{const p=q(),d=V().vendorType;m.useEffect(()=>{d&&d!=="venue_owner"&&p(D(d),{replace:!0})},[p,d]);const{draft:s,isSaved:y,updateVenueDraft:r}=B(d),[i,O]=m.useState(0),[n,N]=m.useState({}),[b,k]=m.useState(s.venueOwner.confirmation),S=a=>{const c=document.getElementById(a);c==null||c.focus()},C=()=>{const a={};i===0&&(s.venueOwner.basics.name||(a.venueName="Venue name is required."),s.venueOwner.basics.location||(a.location="Location is required."),s.venueOwner.basics.venueType||(a.venueType="Venue type is required.")),i===1&&((!s.venueOwner.space.sqft||Number(s.venueOwner.space.sqft)<=0)&&(a.sqft="Square footage must be greater than 0."),s.venueOwner.space.recommendedMax||(a.recommendedMax="Recommended max is required."),s.venueOwner.space.maxDoable||(a.maxDoable="Max doable is required."),Number(s.venueOwner.space.maxDoable)<Number(s.venueOwner.space.recommendedMax)&&(a.maxDoable="Max doable must be greater than recommended max.")),i===2&&(s.venueOwner.availability.weekdays.length===0&&(a.weekdays="Select at least one day."),s.venueOwner.availability.timeWindow||(a.timeWindow="Select a time window."),s.venueOwner.availability.leadTime||(a.leadTime="Select a lead time.")),i===3&&((!s.venueOwner.pricing.basePrice||Number(s.venueOwner.pricing.basePrice)<0)&&(a.basePrice="Base price is required."),s.venueOwner.pricing.pricingModel||(a.pricingModel="Select a pricing model.")),i===4&&s.venueOwner.photos.selectedImages.length===0&&(a.photos="Select at least one image."),i===5&&!b&&(a.confirmation="Please confirm the details."),N(a);const c=Object.keys(a)[0];return c?(S(c),!1):!0},M=()=>{if(C()){if(i<f.length-1){O(a=>a+1);return}r({confirmation:b}),F("pending"),I.success("Submitted for admin approval."),p("/vendor/submission")}},P=()=>O(a=>Math.max(0,a-1)),o=(a,c)=>a.includes(c)?a.filter(T=>T!==c):[...a,c];return e.jsxs("div",{className:"space-y-8",children:[e.jsx(W,{}),e.jsxs(R,{steps:f,currentStep:i,isSaved:y,onBack:P,onNext:M,canGoBack:i>0,canGoNext:!0,nextLabel:i===f.length-1?"Submit":"Next",children:[i===0&&e.jsxs("div",{className:"grid gap-4 sm:grid-cols-2",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsx(t,{htmlFor:"venueName",children:"Venue name"}),e.jsx(l,{id:"venueName",value:s.venueOwner.basics.name,onChange:a=>r({basics:{...s.venueOwner.basics,name:a.target.value}}),placeholder:"Harborview Hall"}),n.venueName&&e.jsx("p",{className:"text-xs text-brand-coral",children:n.venueName})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx(t,{htmlFor:"location",children:"Location"}),e.jsx(l,{id:"location",value:s.venueOwner.basics.location,onChange:a=>r({basics:{...s.venueOwner.basics,location:a.target.value}}),placeholder:"Seaport District"}),n.location&&e.jsx("p",{className:"text-xs text-brand-coral",children:n.location})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx(t,{htmlFor:"venueType",children:"Venue type"}),e.jsxs(h,{value:s.venueOwner.basics.venueType,onValueChange:a=>r({basics:{...s.venueOwner.basics,venueType:a}}),children:[e.jsx(v,{id:"venueType",children:e.jsx(g,{placeholder:"Select type"})}),e.jsx(j,{children:z.map(a=>e.jsx(x,{value:a,children:a},a))})]}),n.venueType&&e.jsx("p",{className:"text-xs text-brand-coral",children:n.venueType})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx(t,{htmlFor:"contact",children:"Contact (optional)"}),e.jsx(l,{id:"contact",value:s.venueOwner.basics.contact,onChange:a=>r({basics:{...s.venueOwner.basics,contact:a.target.value}}),placeholder:"events@harborview.com"})]})]}),i===1&&e.jsxs("div",{className:"grid gap-4 sm:grid-cols-2",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsx(t,{htmlFor:"sqft",children:"Square feet"}),e.jsx(l,{id:"sqft",type:"number",value:s.venueOwner.space.sqft,onChange:a=>r({space:{...s.venueOwner.space,sqft:a.target.value}}),placeholder:"12000"}),n.sqft&&e.jsx("p",{className:"text-xs text-brand-coral",children:n.sqft})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx(t,{htmlFor:"recommendedMax",children:"Recommended max"}),e.jsx(l,{id:"recommendedMax",type:"number",value:s.venueOwner.space.recommendedMax,onChange:a=>r({space:{...s.venueOwner.space,recommendedMax:a.target.value}}),placeholder:"250"}),n.recommendedMax&&e.jsx("p",{className:"text-xs text-brand-coral",children:n.recommendedMax})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx(t,{htmlFor:"maxDoable",children:"Max doable"}),e.jsx(l,{id:"maxDoable",type:"number",value:s.venueOwner.space.maxDoable,onChange:a=>r({space:{...s.venueOwner.space,maxDoable:a.target.value}}),placeholder:"320"}),n.maxDoable&&e.jsx("p",{className:"text-xs text-brand-coral",children:n.maxDoable})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(t,{children:"Constraints"}),e.jsx("div",{className:"grid gap-2",children:A.map(a=>e.jsxs("label",{className:"flex items-center gap-2 text-sm text-gray-600",children:[e.jsx(u,{checked:s.venueOwner.space.constraints.includes(a),onCheckedChange:()=>r({space:{...s.venueOwner.space,constraints:o(s.venueOwner.space.constraints,a)}})}),e.jsx("span",{className:"capitalize",children:a})]},a))})]})]}),i===2&&e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(t,{className:"mb-2 block",children:"Weekday availability"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:E.map(a=>e.jsx("button",{type:"button",className:w("rounded-full border px-4 py-2 text-xs font-semibold uppercase tracking-[0.2em]",s.venueOwner.availability.weekdays.includes(a)?"border-brand-dark bg-brand-dark text-brand-light":"border-brand-dark/20 bg-white text-brand-dark/60"),onClick:()=>r({availability:{...s.venueOwner.availability,weekdays:o(s.venueOwner.availability.weekdays,a)}}),children:a},a))}),n.weekdays&&e.jsx("p",{className:"mt-2 text-xs text-brand-coral",children:n.weekdays})]}),e.jsxs("div",{children:[e.jsx(t,{className:"mb-2 block",children:"Time window"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:L.map(a=>e.jsx("button",{type:"button",className:w("rounded-full border px-4 py-2 text-xs font-semibold uppercase tracking-[0.2em]",s.venueOwner.availability.timeWindow===a?"border-brand-dark bg-brand-dark text-brand-light":"border-brand-dark/20 bg-white text-brand-dark/60"),onClick:()=>r({availability:{...s.venueOwner.availability,timeWindow:a}}),children:a},a))}),n.timeWindow&&e.jsx("p",{className:"mt-2 text-xs text-brand-coral",children:n.timeWindow})]}),e.jsxs("div",{className:"max-w-xs space-y-1",children:[e.jsx(t,{htmlFor:"leadTime",children:"Lead time required"}),e.jsxs(h,{value:s.venueOwner.availability.leadTime,onValueChange:a=>r({availability:{...s.venueOwner.availability,leadTime:a}}),children:[e.jsx(v,{id:"leadTime",children:e.jsx(g,{placeholder:"Select lead time"})}),e.jsx(j,{children:["3 days","7 days","14 days"].map(a=>e.jsx(x,{value:a,children:a},a))})]}),n.leadTime&&e.jsx("p",{className:"text-xs text-brand-coral",children:n.leadTime})]})]}),i===3&&e.jsxs("div",{className:"grid gap-4 sm:grid-cols-2",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsx(t,{htmlFor:"basePrice",children:"Base price"}),e.jsx(l,{id:"basePrice",type:"number",value:s.venueOwner.pricing.basePrice,onChange:a=>r({pricing:{...s.venueOwner.pricing,basePrice:a.target.value}}),placeholder:"4500"}),n.basePrice&&e.jsx("p",{className:"text-xs text-brand-coral",children:n.basePrice})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx(t,{htmlFor:"pricingModel",children:"Pricing model"}),e.jsxs(h,{value:s.venueOwner.pricing.pricingModel,onValueChange:a=>r({pricing:{...s.venueOwner.pricing,pricingModel:a}}),children:[e.jsx(v,{id:"pricingModel",children:e.jsx(g,{placeholder:"Select model"})}),e.jsxs(j,{children:[e.jsx(x,{value:"per_event",children:"Per event"}),e.jsx(x,{value:"per_hour",children:"Per hour"})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(t,{children:"Add-ons"}),e.jsx("div",{className:"grid gap-2",children:_.map(a=>e.jsxs("label",{className:"flex items-center gap-2 text-sm text-gray-600",children:[e.jsx(u,{checked:s.venueOwner.pricing.addOns.includes(a),onCheckedChange:()=>r({pricing:{...s.venueOwner.pricing,addOns:o(s.venueOwner.pricing.addOns,a)}})}),e.jsx("span",{className:"capitalize",children:a})]},a))})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(u,{checked:s.venueOwner.pricing.peakPricing,onCheckedChange:a=>r({pricing:{...s.venueOwner.pricing,peakPricing:!!a}})}),e.jsx(t,{children:"Enable peak pricing"})]})]}),i===4&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx(t,{className:"mb-2 block",children:"Select gallery images"}),e.jsx("div",{className:"grid gap-4 sm:grid-cols-3",children:$.map(a=>e.jsx("button",{type:"button",className:w("group overflow-hidden rounded-2xl border",s.venueOwner.photos.selectedImages.includes(a)?"border-brand-teal":"border-transparent"),onClick:()=>r({photos:{...s.venueOwner.photos,selectedImages:o(s.venueOwner.photos.selectedImages,a)}}),children:e.jsx("img",{src:a,alt:"Venue preview",className:"h-28 w-full object-cover"})},a))}),n.photos&&e.jsx("p",{className:"mt-2 text-xs text-brand-coral",children:n.photos})]}),e.jsxs("div",{className:"rounded-2xl border border-white/40 bg-white/80 p-4",children:[e.jsx("p",{className:"text-xs font-semibold uppercase tracking-[0.2em] text-brand-dark/50",children:"Preview summary"}),e.jsxs("div",{className:"mt-3 grid gap-4 sm:grid-cols-2",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-semibold text-brand-dark",children:s.venueOwner.basics.name||"Venue name"}),e.jsxs("p",{className:"text-xs text-brand-dark/60",children:[s.venueOwner.basics.location||"Location"," ·"," ",s.venueOwner.space.sqft||"0"," sq ft"]}),e.jsxs("p",{className:"mt-2 text-xs text-brand-dark/60",children:["Capacity ",s.venueOwner.space.recommendedMax||"--"," /"," ",s.venueOwner.space.maxDoable||"--"]}),e.jsx("p",{className:"mt-1 text-xs text-brand-dark/60",children:s.venueOwner.pricing.basePrice?`$${s.venueOwner.pricing.basePrice}`:"Pricing TBD"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[e.jsx("div",{className:"rounded-xl border border-dashed border-brand-dark/10 bg-brand-light/50 p-3 text-xs text-brand-dark/40",children:"Optimized layout"}),e.jsx("div",{className:"rounded-xl border border-dashed border-brand-dark/10 bg-brand-light/50 p-3 text-xs text-brand-dark/40",children:"Max layout"})]})]})]})]}),i===5&&e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"rounded-2xl border border-white/40 bg-white/80 p-4 text-sm text-brand-dark/70",children:[e.jsx("p",{className:"text-xs font-semibold uppercase tracking-[0.2em] text-brand-dark/50",children:"Review details"}),e.jsxs("p",{className:"mt-2",children:["Venue: ",s.venueOwner.basics.name||"—"," ·"," ",s.venueOwner.basics.location||"—"]}),e.jsxs("p",{className:"mt-1",children:["Space: ",s.venueOwner.space.sqft||"—"," sq ft ·"," ",s.venueOwner.space.recommendedMax||"—"," recommended /"," ",s.venueOwner.space.maxDoable||"—"," max"]}),e.jsxs("p",{className:"mt-1",children:["Pricing:"," ",s.venueOwner.pricing.basePrice?`$${s.venueOwner.pricing.basePrice}`:"—"," ","(",s.venueOwner.pricing.pricingModel==="per_hour"?"per hour":"per event",")"]})]}),e.jsxs("label",{className:"flex items-center gap-2 text-sm text-brand-dark/70",children:[e.jsx(u,{checked:b,onCheckedChange:a=>k(!!a),id:"confirmation"}),"I confirm information is accurate."]}),n.confirmation&&e.jsx("p",{className:"text-xs text-brand-coral",children:n.confirmation})]})]})]})};export{Y as default};
