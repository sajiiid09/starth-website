import{r as c,bu as j,j as e,y as g,b as y,L as d,e as m,B as x}from"./index-KrjukJeb.js";import{C as v,a as N,b as p,c as w}from"./card-tLMu1Ov7.js";import{c as b}from"./Envelope.es-BErI3QgS.js";import{s as V}from"./XCircle.es-CSjnQLHJ.js";function P(){const[s,i]=c.useState("loading"),[f,t]=c.useState(""),[l,u]=c.useState("");c.useEffect(()=>{const r=new URLSearchParams(window.location.search).get("token");if(!r){i("error"),t("Invalid verification link");return}h(r)},[]);const h=async n=>{var r,o;try{const{data:a}=await j({token:n});a.success?(i(a.already_verified?"already_verified":"success"),t(a.message),u(a.email)):(i("error"),t(a.error||"Verification failed"))}catch(a){console.error("Verification error:",a),i("error"),t(((o=(r=a.response)==null?void 0:r.data)==null?void 0:o.error)||"Verification failed")}};return e.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center p-4",children:e.jsxs(v,{className:"w-full max-w-md",children:[e.jsxs(N,{className:"text-center",children:[e.jsxs("div",{className:"w-16 h-16 mx-auto mb-4 rounded-full flex items-center justify-center",children:[s==="loading"&&e.jsx(g,{className:"w-12 h-12 text-blue-600 animate-spin"}),(s==="success"||s==="already_verified")&&e.jsx("div",{className:"w-16 h-16 bg-green-100 rounded-full flex items-center justify-center",children:e.jsx(y,{className:"w-10 h-10 text-green-600"})}),s==="error"&&e.jsx("div",{className:"w-16 h-16 bg-red-100 rounded-full flex items-center justify-center",children:e.jsx(V,{className:"w-10 h-10 text-red-600"})})]}),e.jsxs(p,{className:"text-2xl",children:[s==="loading"&&"Verifying Your Email...",s==="success"&&"Email Verified!",s==="already_verified"&&"Already Verified",s==="error"&&"Verification Failed"]})]}),e.jsxs(w,{className:"text-center space-y-4",children:[e.jsx("p",{className:"text-gray-600",children:f}),(s==="success"||s==="already_verified")&&e.jsxs(e.Fragment,{children:[l&&e.jsxs("div",{className:"flex items-center justify-center gap-2 text-sm text-gray-500",children:[e.jsx(b,{className:"w-4 h-4"}),e.jsx("span",{children:l})]}),e.jsx(d,{to:m("Home"),children:e.jsx(x,{className:"w-full bg-black hover:bg-gray-800",children:"Continue to Sign In"})})]}),s==="error"&&e.jsxs("div",{className:"space-y-3",children:[e.jsx("p",{className:"text-sm text-gray-500",children:"The verification link may have expired or is invalid."}),e.jsx(d,{to:m("Home"),children:e.jsx(x,{variant:"outline",className:"w-full",children:"Return to Home"})})]})]})]})})}export{P as default};
