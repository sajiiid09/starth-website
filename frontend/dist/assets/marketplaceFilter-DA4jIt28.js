import{j as r,L as y,c as j,a as b}from"./index-KrjukJeb.js";const C=({item:e})=>r.jsxs(y,{to:`/marketplace/${e.id}`,className:j("group flex h-full flex-col overflow-hidden rounded-3xl border border-white/30 bg-white/70 shadow-card","transition duration-200 ease-smooth hover:-translate-y-1 hover:border-white/60 hover:bg-white"),children:[r.jsx("div",{className:"relative aspect-[4/3] w-full overflow-hidden bg-brand-cream/60",children:r.jsx("img",{src:e.image,alt:e.title,className:"h-full w-full object-contain p-10 transition duration-300 ease-smooth group-hover:scale-105",loading:"lazy"})}),r.jsxs("div",{className:"flex flex-1 flex-col gap-3 px-6 pb-6 pt-5",children:[r.jsx(b,{variant:"secondary",className:"w-fit rounded-full px-3 py-1 text-xs",children:e.category}),r.jsx("h3",{className:"text-xl font-semibold text-brand-dark",children:e.title}),r.jsx("p",{className:"text-sm leading-relaxed text-brand-dark/70",children:e.shortDescription}),r.jsxs("div",{className:"mt-auto flex items-center justify-between text-sm text-brand-dark/70",children:[r.jsx("span",{children:e.location}),r.jsx("span",{className:"font-semibold text-brand-dark",children:e.startingPrice||e.priceRange})]}),r.jsx("span",{className:"inline-flex items-center text-sm font-medium text-brand-teal",children:"View details â†’"})]})]}),h=e=>e.trim().toLowerCase(),w=e=>{if(!e)return{city:"",state:""};const[s,t]=e.split(",").map(n=>n.trim());return{city:s??"",state:t??""}},l=e=>{const s=e.startingPrice||e.priceRange;if(!s)return null;const t=s.replace(/,/g,"").match(/\d+(?:\.\d+)?/);return t?Number(t[0]):null},v=(e,s)=>{var o;const t=h(s);return t?[e.title,e.shortDescription,e.fullDescription,e.category,e.location,(o=e.tags)==null?void 0:o.join(" ")].filter(Boolean).join(" ").toLowerCase().includes(t):!0},L=({items:e,searchQuery:s,filters:t,sortBy:n})=>{const o=h(s),i=[...e.filter(a=>{var d;const{city:c,state:p}=w(a.location),x=!o||[a.title,a.shortDescription,a.fullDescription,a.category,a.location,(d=a.tags)==null?void 0:d.join(" ")].filter(Boolean).join(" ").toLowerCase().includes(o),u=!t.category||a.category===t.category,g=!t.state||p===t.state,f=!t.city||c===t.city,m=v(a,t.eventType);return x&&u&&g&&f&&m})];return n==="price_low"&&i.sort((a,c)=>(l(a)??0)-(l(c)??0)),n==="price_high"&&i.sort((a,c)=>(l(c)??0)-(l(a)??0)),i},D=e=>e.slice(0,4);export{C as M,L as f,D as g};
