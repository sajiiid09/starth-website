import{r}from"./index-KrjukJeb.js";const y=(l,u=[],t={})=>{const[o,c]=r.useState(null),[f,a]=r.useState(t.enabled!==!1),[d,n]=r.useState(null),s=r.useCallback(async()=>{a(!0),n(null);try{const e=await l();return c(e),e}catch(e){const i=e instanceof Error?e:new Error("Failed to load data");return n(i),null}finally{a(!1)}},u);return r.useEffect(()=>{if(t.enabled===!1){a(!1);return}s()},[t.enabled,s]),{data:o,isLoading:f,error:d,refetch:s}};export{y as u};
